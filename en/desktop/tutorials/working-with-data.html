<!DOCTYPE html><html lang="en"><head><meta charSet="utf-8"/><meta name="viewport" content="width=device-width, initial-scale=1"/><link rel="preload" href="/_next/static/media/c9a5bc6a7c948fb0-s.p.woff2" as="font" crossorigin="" type="font/woff2"/><link rel="preload" as="image" href="/assets/img/working-with-data/NC_DataExport0.png"/><link rel="preload" as="image" href="/assets/img/working-with-data/NC_DataExport1.png"/><link rel="preload" as="image" href="/assets/img/working-with-data/NC_DataExport2.png"/><link rel="preload" as="image" href="/assets/img/working-with-data/NC_DataExport3.png"/><link rel="preload" as="image" href="/_next/static/media/logo.dcce3c7e.svg" fetchPriority="high"/><link rel="stylesheet" href="/_next/static/css/bf2f94be48dd7ed8.css" crossorigin="" data-precedence="next"/><link rel="stylesheet" href="/_next/static/css/e7d3bab42d9af29d.css" crossorigin="" data-precedence="next"/><link rel="preload" as="script" fetchPriority="low" href="/_next/static/chunks/webpack-4c3872ff772c7727.js" crossorigin=""/><script src="/_next/static/chunks/c141e8ea-32b9635cc04a6d88.js" async="" crossorigin=""></script><script src="/_next/static/chunks/569-eb9349b8dc9d09b1.js" async="" crossorigin=""></script><script src="/_next/static/chunks/main-app-b1827d918ea02991.js" async="" crossorigin=""></script><script src="/_next/static/chunks/73-5befd669a6807cff.js" async=""></script><script src="/_next/static/chunks/app/%5Blocale%5D/%5Bproject%5D/%5B...docPath%5D/not-found-ec9cb323a94cb691.js" async=""></script><script src="/_next/static/chunks/3a75b86e-09cc80c17ccc6dcc.js" async=""></script><script src="/_next/static/chunks/cdcb5d40-d7a666cb048b4a21.js" async=""></script><script src="/_next/static/chunks/985-ba8fbba0420f110f.js" async=""></script><script src="/_next/static/chunks/238-dc3d5ef8c869407c.js" async=""></script><script src="/_next/static/chunks/549-3b83d1729256e7d5.js" async=""></script><script src="/_next/static/chunks/app/%5Blocale%5D/layout-fa8fc146dcbcfdb6.js" async=""></script><script src="/_next/static/chunks/app/%5Blocale%5D/%5Bproject%5D/%5B...docPath%5D/page-2f97d01bec3d90a8.js" async=""></script><title>Working with Network Canvas data in R</title><meta name="description" content="All Network Canvas Docs"/><meta name="next-size-adjust"/><script src="/_next/static/chunks/polyfills-c67a75d1b6f99dc8.js" crossorigin="" noModule=""></script></head><body class="__className_e66fe9"><script>!function(){try{var d=document.documentElement,c=d.classList;c.remove('light','dark');var e=localStorage.getItem('theme');if('system'===e||(!e&&true)){var t='(prefers-color-scheme: dark)',m=window.matchMedia(t);if(m.media!==t||m.matches){d.style.colorScheme = 'dark';c.add('dark')}else{d.style.colorScheme = 'light';c.add('light')}}else if(e){c.add(e|| '')}if(e==='light'||e==='dark')d.style.colorScheme=e}catch(e){}}()</script><div class="sticky top-0 z-50 mb-5 border-b border-slate-200 bg-slate-950"><div class="container flex h-16 items-center justify-between p-1"><a class="flex items-center gap-0.5" href="/en"><img alt="Logo" fetchPriority="high" width="40" height="40" decoding="async" data-nimg="1" style="color:transparent" src="/_next/static/media/logo.dcce3c7e.svg"/><span class="text-white">Network Canvas</span></a><div class="flex items-center gap-3"><button type="button" role="combobox" aria-controls="radix-:R56nla:" aria-expanded="false" aria-autocomplete="none" dir="ltr" data-state="closed" data-placeholder="" class="flex h-10 items-center justify-between rounded-md border border-input px-3 py-2 ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 bg-white hover:bg-stone-100 dark:bg-slate-700 dark:hover:bg-slate-600 w-fit space-x-1 text-xs sm:text-sm"><span style="pointer-events:none">English</span><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="h-4 w-4 opacity-50" aria-hidden="true"><path d="m6 9 6 6 6-6"></path></svg></button><select aria-hidden="true" tabindex="-1" style="position:absolute;border:0;width:1px;height:1px;padding:0;margin:-1px;overflow:hidden;clip:rect(0, 0, 0, 0);white-space:nowrap;word-wrap:normal"><option value=""></option></select><button class="inline-flex items-center justify-center rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 border border-input bg-background hover:bg-accent hover:text-accent-foreground h-10 w-10" type="button" id="radix-:R76nla:" aria-haspopup="menu" aria-expanded="false" data-state="closed"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="h-[1.2rem] w-[1.2rem] rotate-0 scale-100 transition-all dark:-rotate-90 dark:scale-0"><circle cx="12" cy="12" r="4"></circle><path d="M12 2v2"></path><path d="M12 20v2"></path><path d="m4.93 4.93 1.41 1.41"></path><path d="m17.66 17.66 1.41 1.41"></path><path d="M2 12h2"></path><path d="M20 12h2"></path><path d="m6.34 17.66-1.41 1.41"></path><path d="m19.07 4.93-1.41 1.41"></path></svg><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="absolute h-[1.2rem] w-[1.2rem] rotate-90 scale-0 transition-all dark:rotate-0 dark:scale-100"><path d="M12 3a6 6 0 0 0 9 9 9 9 0 1 1-9-9Z"></path></svg></button><a class="btn inline-block rounded-md bg-white p-2 text-center transition-colors hover:bg-stone-100 dark:bg-slate-700 dark:hover:bg-slate-600" target="_blank" href="https://community.networkcanvas.com">Community</a></div></div></div><div class="container mt-8 grid grid-cols-5 items-start gap-5"><div class="sticky top-20 flex flex-col gap-2"><button type="button" role="combobox" aria-controls="radix-:R2qnla:" aria-expanded="false" aria-autocomplete="none" dir="ltr" data-state="closed" data-placeholder="" class="flex items-center justify-between rounded-md border border-input bg-background px-3 py-2 ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 h-16 w-full text-sm transition-colors hover:bg-slate-100 dark:hover:bg-slate-800 lg:text-base"><span style="pointer-events:none">Select software</span><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="h-4 w-4 opacity-50" aria-hidden="true"><path d="m6 9 6 6 6-6"></path></svg></button><select aria-hidden="true" tabindex="-1" style="position:absolute;border:0;width:1px;height:1px;padding:0;margin:-1px;overflow:hidden;clip:rect(0, 0, 0, 0);white-space:nowrap;word-wrap:normal"></select><div class="h-[700px] overflow-y-auto overflow-x-hidden p-4"></div></div><div class="col-span-4 px-2"><div class="flex items-start gap-1"><article class="prose prose-sm prose-slate mx-5 dark:prose-invert md:prose-base prose-blockquote:border-blue-500"><h1>Working with Network Canvas data in R</h1><div class="rounded-lg border shadow-sm bg-slate-200 text-black dark:bg-slate-600 dark:text-white"><div class="p-4"><div class="text-sm"><span class="font-bold">SUMMARY:</span><p>This tutorial will show you how to work with Network Canvas data in the R statistics environment.</p></div><div class="text-sm"><span class="font-bold">PREREQUISITES:</span><p>In order to follow along with this tutorial you should:</p>
<ul>
<li>Have an understanding of the R environment.</li>
<li>Have a working installation of R studio, or similar, in order to enter commands.</li>
</ul></div><div class="text-sm"><span class="block font-bold">DURATION:</span><div class="flex gap-1"><svg xmlns="http://www.w3.org/2000/svg" width="20px" height="20px" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-clock"><circle cx="12" cy="12" r="10"></circle><polyline points="12 6 12 12 16 14"></polyline></svg>30 mins</div></div></div></div><p>This tutorial provides basic examples of import and analysis in R using
data from the <a class="text-cyan-700" href="http://networkcanvas.com">Network Canvas</a> software. The
example will use simulated data from the following network canvas
<a class="text-cyan-700" href="https://github.com/complexdatacollective/working-with-data/raw/main/IJE_RADAR_Protocol.netcanvas">protocol
file</a>
which can be opened in the Network Canvas Interviewer or Architect apps.
The data used in this tutorial can also be found
<a class="text-cyan-700" href="https://github.com/complexdatacollective/working-with-data/raw/main/networkCanvasExport.zip">here</a>.</p>
<p>Find the github repository for this tutorial here: <a class="text-cyan-700" href="https://github.com/complexdatacollective/working-with-data">https://github.com/complexdatacollective/working-with-data</a></p>
<h3 id="export-data-from-network-canvas"><a class="group flex items-center gap-1.5 no-underline transition-all hover:text-blue-400 undefined " href="/en#export-data-from-network-canvas">Export data from Network Canvas<div class="hidden group-hover:block"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-link2"><path d="M9 17H7A5 5 0 0 1 7 7h2"></path><path d="M15 7h2a5 5 0 1 1 0 10h-2"></path><line x1="8" x2="16" y1="12" y2="12"></line></svg></div></a></h3>
<p>The first step in exporting data from Network Canvas is to navigate to
the Manage and Export Session data in the Interviewer app.</p>
<p><img src="/assets/img/working-with-data/NC_DataExport0.png" alt="Manage and Export Session"/></p>
<p>Next, you’ll indicate which sessions you want to export by selecting the
appropriate cards and clicking “Export Selected To File.”</p>
<p><img src="/assets/img/working-with-data/NC_DataExport1.png" alt="Select Network Canvas Sessions for Export"/></p>
<p>Next, we’ll confirm export options. We will focus on the CSV export in
this tutorial. I also leave the “Merge Sessions” option unselected
because I prefer to aggregate session data manually in R, as I will
demonstrate below.</p>
<p><img src="/assets/img/working-with-data/NC_DataExport2.png" alt="Confirm Network Canvas Export Options"/></p>
<p>Finally, after a short wait, we simply select where we would like the
zip file containing all our data to be saved on our computer. We will
need to unzip the file before starting our data analysis described below</p>
<p><img src="/assets/img/working-with-data/NC_DataExport3.png" alt="Select file location"/></p>
<h3 id="import-and-clean-the-data"><a class="group flex items-center gap-1.5 no-underline transition-all hover:text-blue-400 undefined " href="/en#import-and-clean-the-data">Import and clean the data<div class="hidden group-hover:block"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-link2"><path d="M9 17H7A5 5 0 0 1 7 7h2"></path><path d="M15 7h2a5 5 0 1 1 0 10h-2"></path><line x1="8" x2="16" y1="12" y2="12"></line></svg></div></a></h3>
<p>Next we want to load the data into R. We use the <em>egor</em> to do this,
using examples derived from an egor <a class="text-cyan-700" href="https://cran.r-project.org/web/packages/egor/vignettes/using_egor.html">vignette</a>.</p>
<pre><code>    # Load egor
    library(egor)
    library(sna)
    library(ggplot2)

    # This assumes the the data was unzipped to the &quot;networkCanvasExport&quot; folder that is located in the same folder as this script
    # If the you have data somewhere else, set that folder path here:
    folderPath &lt;- paste0(getwd(),&#x27;/networkCanvasExport/&#x27;)

    # Read each type of file into list, combine into single data frame
    alterData &lt;- folderPath %&gt;%
      list.files(full.names=TRUE,pattern=&quot;attributeList_Person.csv&quot;) %&gt;%
      lapply(read.csv) %&gt;%
      bind_rows()

    edgelistData_Close &lt;- folderPath %&gt;%
      list.files(full.names=TRUE,pattern=&quot;edgeList_Close.csv&quot;) %&gt;%
      lapply(read.csv) %&gt;%
      bind_rows()

    edgelistData_SexTie &lt;- folderPath %&gt;%
      list.files(full.names=TRUE,pattern=&quot;edgeList_SexTie.csv&quot;) %&gt;%
      lapply(read.csv) %&gt;%
      bind_rows()

    edgelistData_DrugTie &lt;- folderPath %&gt;%
      list.files(full.names=TRUE,pattern=&quot;edgeList_DrugTie.csv&quot;) %&gt;%
      lapply(read.csv) %&gt;%
      bind_rows()

    egoData &lt;- folderPath %&gt;%
      list.files(full.names=TRUE,pattern=&quot;ego.csv&quot;) %&gt;%
      lapply(read.csv) %&gt;%
      bind_rows()
</code></pre>
<p>Now we can examine if the data looks like it should from the alter file.
As you’ll see, the alter data file contains a unique alter identifier
(i.e., “networkCanvasUUID”) as well as a unique ego identifier (i.e.,
“networkCanvasEgoUUID”) which will both be used to define the egor
object.</p>
<pre><code>
    head(alterData[,c(&quot;nodeID&quot;,&quot;networkCanvasEgoUUID&quot;,&quot;networkCanvasUUID&quot;,&quot;Close&quot;,&quot;Drugs&quot;,&quot;Sex&quot;,&quot;Age&quot;)])

    ##   nodeID                 networkCanvasEgoUUID
    ## 1      1 1b915958-a970-4742-9f98-154a5b97c3e9
    ## 2      2 1b915958-a970-4742-9f98-154a5b97c3e9
    ## 3      3 1b915958-a970-4742-9f98-154a5b97c3e9
    ## 4      4 1b915958-a970-4742-9f98-154a5b97c3e9
    ## 5      5 1b915958-a970-4742-9f98-154a5b97c3e9
    ## 6      6 1b915958-a970-4742-9f98-154a5b97c3e9
    ##                      networkCanvasUUID Close Drugs   Sex Age
    ## 1 38eea03a-de1e-4a0b-bd22-9424cd1d9011  true false false  28
    ## 2 21fc603a-34af-42eb-a317-14b9f04d811f  true false  true  91
    ## 3 b22bcff1-e4b9-4aa8-b4cd-0667a1f19ea9 false false  true  90
    ## 4 df31eaa1-bc6d-4213-a25e-61536391a23f false false false  51
    ## 5 c9a1103c-2246-427c-bd7b-f11ea1bf242f  true  true  true  82
    ## 6 c202aa1a-9d24-48b1-82ea-6dbc5e9580f7  true  true false  56
</code></pre>
<h3 id="recoding-categorical-variables"><a class="group flex items-center gap-1.5 no-underline transition-all hover:text-blue-400 undefined " href="/en#recoding-categorical-variables">Recoding categorical variables<div class="hidden group-hover:block"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-link2"><path d="M9 17H7A5 5 0 0 1 7 7h2"></path><path d="M15 7h2a5 5 0 1 1 0 10h-2"></path><line x1="8" x2="16" y1="12" y2="12"></line></svg></div></a></h3>
<p>Categorical variables from Network Canvas export as one column per
category with a Boolean value for each possible category. However,
researchers frequently want to convert these variables to a single
factor column in R. This helper function can help you achieve that.</p>
<pre><code>    catToFactor &lt;- function(dataframe,variableName) {
        fullVariableName &lt;- paste0(variableName,&quot;_&quot;)
        catVariables &lt;- grep(fullVariableName, names(dataframe), value=TRUE)
        # Check if variable exists
        if (identical(catVariables, character(0))){
          stop(paste0(&quot;Cannot find variable named -&quot;,variableName,&quot;- in the data&quot;))
        # Check if &quot;true&quot; in multiple columns of a single row
        } else if (sum(apply(dataframe[,catVariables], 1, function(x) sum(x %in% &quot;true&quot;)&gt;1))&gt;0) {
          stop(paste0(&quot;Your variable -&quot;,variableName,&quot;  - appears to take multiple values.&quot;)) }
        catValues &lt;- sub(paste0(&#x27;.*&#x27;,fullVariableName), &#x27;&#x27;, catVariables)
        factorVariable &lt;- c()
        for(i in 1:length(catVariables)){
          factorVariable[dataframe[catVariables[i]]==&quot;true&quot;] &lt;- catValues[i]
        }
        return(factor(factorVariable,levels=catValues))
    }
</code></pre>
<p>Using this function, we can recode three variables from the current
protocol into factors</p>
<pre><code>
    # List of categorical variables in our protocol to convert into factors
    categoricalVariablesList &lt;- list(&#x27;Gender&#x27;,&#x27;Race&#x27;,&#x27;SexOrient&#x27;)

    # Iterate the list and call our catToFactor function, assigning the result to a new column in our dataframe
    for (variable in categoricalVariablesList) {
      alterData[variable] &lt;- catToFactor(alterData, variable)
    }
</code></pre>
<h3 id="miscellaneous-data-cleaning"><a class="group flex items-center gap-1.5 no-underline transition-all hover:text-blue-400 undefined " href="/en#miscellaneous-data-cleaning">Miscellaneous data cleaning<div class="hidden group-hover:block"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-link2"><path d="M9 17H7A5 5 0 0 1 7 7h2"></path><path d="M15 7h2a5 5 0 1 1 0 10h-2"></path><line x1="8" x2="16" y1="12" y2="12"></line></svg></div></a></h3>
<p>We’ll want to do a little data cleaning by contact frequency and
counting the number of substances participants reported using, before
loading it into an egor object.</p>
<pre><code>    alterData$ContactFreq[alterData$ContactFreq==&quot;Less_than_weekly&quot;] &lt;- &quot;Less than \n weekly&quot;

    countTrues &lt;- function(vector) {
      length(which(vector==&quot;true&quot;))
    }
    drugNames &lt;-c(&quot;MarijuanaUsed&quot;,&quot;CocaineUsed&quot;,&quot;HeroinUsed&quot;,&quot;PainkillersUsed&quot;,&quot;PoppersUsed&quot;)
    egoData$numberDrugs &lt;- apply(egoData[,c(drugNames)],FUN=countTrues,MARGIN=1)
</code></pre>
<h3 id="create-an-egor-object"><a class="group flex items-center gap-1.5 no-underline transition-all hover:text-blue-400 undefined " href="/en#create-an-egor-object">Create an egor object<div class="hidden group-hover:block"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-link2"><path d="M9 17H7A5 5 0 0 1 7 7h2"></path><path d="M15 7h2a5 5 0 1 1 0 10h-2"></path><line x1="8" x2="16" y1="12" y2="12"></line></svg></div></a></h3>
<p>After loading and cleaning the data, we still need to make it into an
egor object. Although we have 3 data files with edgelist data, we’ll be
focusing on “Close” social ties for the remainder of this tutorial</p>
<pre><code>    # Load the file into R
    egorNetworkCanvas &lt;- egor(alters = alterData,
               egos = egoData,
               aaties = edgelistData_Close,
               ID.vars = list(
                 ego = &quot;networkCanvasEgoUUID&quot;,
                 alter = &quot;networkCanvasUUID&quot;,
                 source = &quot;networkCanvasSourceUUID&quot;,
                 target = &quot;networkCanvasTargetUUID&quot;))
</code></pre>
<h3 id="data-visualization"><a class="group flex items-center gap-1.5 no-underline transition-all hover:text-blue-400 undefined " href="/en#data-visualization">Data visualization<div class="hidden group-hover:block"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-link2"><path d="M9 17H7A5 5 0 0 1 7 7h2"></path><path d="M15 7h2a5 5 0 1 1 0 10h-2"></path><line x1="8" x2="16" y1="12" y2="12"></line></svg></div></a></h3>
<p>Lets start with a simple visualization of one ego network. To do this
we’ll first convert it to a ‘network’ object and use the gplot function
from the sna package. This visualization shows the new node labels and
colors each node by the contact frequency with the participant. We also
layout the figure with the final coordinates from the sociogram stage.</p>
<pre><code>    oneEgoNet &lt;- as_network(egorNetworkCanvas)[[9]]
    oneEgoNet%v%&quot;vertex.names&quot; &lt;- oneEgoNet%v%&quot;name&quot;

    colorScheme &lt;- c( &quot;#CC6677&quot;, &quot;#117733&quot;, &quot;#AA4499&quot;,
                      &quot;#6699CC&quot;)

    # A little recoding to get a color for each frequency
    nodeColors &lt;- ifelse(oneEgoNet%v%&quot;ContactFreq&quot;==&quot;Daily&quot;,colorScheme[1],
                        ifelse(oneEgoNet%v%&quot;ContactFreq&quot;==&quot;Weekly&quot;,colorScheme[2],
                               ifelse(oneEgoNet%v%&quot;ContactFreq&quot;==&quot;Less than \n weekly&quot;,colorScheme[3],
                                      colorScheme[4])))

    gplot(oneEgoNet,
           usearrows = FALSE,
           label = oneEgoNet%v%&quot;name&quot;,
           displaylabels = TRUE,
           vertex.col=nodeColors,
           edge.col=&quot;gray&quot;,
           coord = matrix(c(as.numeric(oneEgoNet%v%&quot;Cords_x&quot;),
                            -as.numeric(oneEgoNet%v%&quot;Cords_y&quot;)),
                            nrow=length(unique(oneEgoNet%v%&quot;name&quot;)),
                            ncol=2))
</code></pre>
<img alt="" loading="lazy" width="450" height="450" decoding="async" data-nimg="1" class="h-full w-full object-cover" style="color:transparent;margin-block:10px" src="/assets/img/working-with-data/vis1.png"/>
<p>As you can see, this only shows a single egocentric network. However,
the egor package has several functions that facilitate comparison of
networks across ego nets. For example, here is a visualization showing
each ego net with nodes location being dependent on their frequency of
contact with the participant and their status as a drug partner (i.e.,
true/false).</p>
<pre><code>    # Make a visualization displaying both frequency of communication and family member status
    plot(egorNetworkCanvas, venn_var = &quot;Drugs&quot;,
         pie_var = &quot;ContactFreq&quot;,vertex_label_var=&quot;nodeID&quot;,
         type = &quot;egogram&quot;)
</code></pre>
<img alt="" loading="lazy" width="450" height="450" decoding="async" data-nimg="1" class="h-full w-full object-cover" style="color:transparent;margin-block:10px" src="/assets/img/working-with-data/vis2.png"/>
<h2 id="data-analysis"><a class="group flex items-center gap-1.5 no-underline transition-all hover:text-blue-400 undefined " href="/en#data-analysis">Data analysis<div class="hidden group-hover:block"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-link2"><path d="M9 17H7A5 5 0 0 1 7 7h2"></path><path d="M15 7h2a5 5 0 1 1 0 10h-2"></path><line x1="8" x2="16" y1="12" y2="12"></line></svg></div></a></h2>
<p>The egor package has numerous functions that help with basic data
analysis of ego networks. For example, the <em>summary</em> function provides
an overview of all ego networks in the egor while the <em>ego_density</em>
functions provides the density for each participant’s network.</p>
<pre><code>    summary(egorNetworkCanvas)

    ## 9 Egos/ Ego Networks
    ## 91 Alters
    ## Min. Netsize 3
    ## Average Netsize 10.1111111111111
    ## Max. Netsize 20
    ## Average Density 0.385856531573766
    ## Alter survey design:
    ##   Maximum nominations: Inf

    ego_density(egorNetworkCanvas)

    ## # A tibble: 9 × 2
    ##   .egoID                               density
    ##   &lt;chr&gt;                                  &lt;dbl&gt;
    ## 1 1b915958-a970-4742-9f98-154a5b97c3e9 0.619
    ## 2 102783ac-c48d-4953-97e6-3d84f39fd5d5 0.214
    ## 3 51ce5e11-9aed-4b07-8ccf-1e96f7194ba6 0.0256
    ## 4 ef3aeefe-1af9-4fd4-9e75-318eb329778f 0.105
    ## 5 aae09896-5fc5-4295-8349-58045da6e86a 1
    ## 6 2944b829-ef9d-446e-b592-6fbf57657743 0.00526
    ## 7 79cee692-a513-408d-9701-0efe078b0240 0.218
    ## 8 1c6dd8fd-2b2f-4139-80bc-63c7f34a5ec1 1
    ## 9 0ce518be-d845-4439-8e3a-bd6b86e7cf40 0.286
</code></pre>
<p>We can also use a traditional package, such as <em>sna</em>, to look at these
networks by applying functions (i.e., lapply) to each of these networks
and aggregating the results. For example, here we first make a simple
histogram of alter degrees across all ego networks.</p>
<pre><code>    networkNetworkCanvas &lt;- as_network(egorNetworkCanvas)

    histData &lt;- networkNetworkCanvas %&gt;%
      lapply(degree,cmode=&quot;indegree&quot;) %&gt;%
      unlist(recursive = FALSE) %&gt;%
      as.data.frame()

    histData$degree &lt;- as.numeric(histData$&quot;.&quot;)

    ggplot(histData, aes(x=degree)) +
        geom_histogram(color=&quot;black&quot;, fill=&quot;white&quot;,bins=5) +
        theme_classic()
</code></pre>
<img alt="" loading="lazy" width="450" height="450" decoding="async" data-nimg="1" class="h-full w-full object-cover" style="color:transparent;margin-block:10px" src="/assets/img/working-with-data/vis4.png"/>
<p>Finally, we often want to examine how an ego attribute may be associated
with ego network characteristics. In this example we look at the
association between the number of substances a participant reported
using and the density of their ego network.</p>
<pre><code>    ego_density(egorNetworkCanvas) %&gt;%
      full_join(egorNetworkCanvas$ego,by=&quot;.egoID&quot;) %&gt;%
      ggplot(aes(x = numberDrugs, y = density)) +
        geom_point(size=5) +
        geom_text(label=egorNetworkCanvas$ego$networkCanvasCaseID, aes(vjust=c(-1.5))) +
        ylim(0,1.05) + theme_classic()
</code></pre>
<img alt="" loading="lazy" width="450" height="450" decoding="async" data-nimg="1" class="h-full w-full object-cover" style="color:transparent;margin-block:10px" src="/assets/img/working-with-data/vis5.png"/>
<pre><code></code></pre><p class="text-sm text-red-400"></p></article><div class="sticky top-20"><div class="toc-component group overflow-x-hidden pb-5 false min-w-[300px] overflow-y-auto"><h3 class="text-sm uppercase text-slate-400">Table of contents</h3><ul class="mx-6"><li><a class="block text-base py-1 transition-colors hover:text-black dark:hover:text-white text-slate-400" href="#data-analysis">Data analysis</a></li></ul></div><div data-orientation="horizontal" role="none" class="shrink-0 bg-border h-[1px] w-full"></div></div></div></div></div><script src="/_next/static/chunks/webpack-4c3872ff772c7727.js" crossorigin="" async=""></script><script>(self.__next_f=self.__next_f||[]).push([0]);self.__next_f.push([2,null])</script><script>self.__next_f.push([1,"1:HL[\"/_next/static/css/bf2f94be48dd7ed8.css\",\"style\",{\"crossOrigin\":\"\"}]\n0:\"$L2\"\n"])</script><script>self.__next_f.push([1,"3:HL[\"/_next/static/media/c9a5bc6a7c948fb0-s.p.woff2\",\"font\",{\"crossOrigin\":\"\",\"type\":\"font/woff2\"}]\n4:HL[\"/_next/static/css/e7d3bab42d9af29d.css\",\"style\",{\"crossOrigin\":\"\"}]\n"])</script><script>self.__next_f.push([1,"5:I[5574,[],\"\"]\n7:I[4191,[],\"\"]\n8:I[825,[],\"\"]\n9:I[4348,[],\"\"]\na:I[2073,[\"73\",\"static/chunks/73-5befd669a6807cff.js\",\"485\",\"static/chunks/app/%5Blocale%5D/%5Bproject%5D/%5B...docPath%5D/not-found-ec9cb323a94cb691.js\"],\"\"]\n"])</script><script>self.__next_f.push([1,"2:[[[\"$\",\"link\",\"0\",{\"rel\":\"stylesheet\",\"href\":\"/_next/static/css/bf2f94be48dd7ed8.css\",\"precedence\":\"next\",\"crossOrigin\":\"\"}]],[\"$\",\"$L5\",null,{\"buildId\":\"BkOk8FINMfbqCxK72Tbj0\",\"assetPrefix\":\"\",\"initialCanonicalUrl\":\"/en/desktop/tutorials/working-with-data\",\"initialTree\":[\"\",{\"children\":[[\"locale\",\"en\",\"d\"],{\"children\":[[\"project\",\"desktop\",\"d\"],{\"children\":[[\"docPath\",\"tutorials/working-with-data\",\"c\"],{\"children\":[\"__PAGE__?{\\\"locale\\\":\\\"en\\\",\\\"project\\\":\\\"desktop\\\",\\\"docPath\\\":[\\\"tutorials\\\",\\\"working-with-data\\\"]}\",{}]}]}]}]},\"$undefined\",\"$undefined\",true],\"initialHead\":[false,\"$L6\"],\"globalErrorComponent\":\"$7\",\"children\":[null,[\"$\",\"$L8\",null,{\"parallelRouterKey\":\"children\",\"segmentPath\":[\"children\"],\"loading\":\"$undefined\",\"loadingStyles\":\"$undefined\",\"loadingScripts\":\"$undefined\",\"hasLoading\":false,\"error\":\"$undefined\",\"errorStyles\":\"$undefined\",\"errorScripts\":\"$undefined\",\"template\":[\"$\",\"$L9\",null,{}],\"templateStyles\":\"$undefined\",\"templateScripts\":\"$undefined\",\"notFound\":[\"$\",\"html\",null,{\"children\":[\"$\",\"body\",null,{\"children\":[\"$\",\"div\",null,{\"className\":\"prose prose-sm prose-slate mx-auto my-10 md:prose-base\",\"children\":[[\"$\",\"h1\",null,{\"children\":\"404 - Not found\"}],[\"$\",\"div\",null,{\"className\":\"h-[2px] w-full bg-black\"}],[\"$\",\"h2\",null,{\"children\":\"The requested page could not be found.\"}],[\"$\",\"p\",null,{\"children\":\"This is probably because the page has been moved or deleted. We apologize for any inconvenience this has caused.\"}],[\"$\",\"p\",null,{\"children\":\"Please try the following:\"}],[\"$\",\"ul\",null,{\"children\":[[\"$\",\"li\",null,{\"children\":[\"Use the \",[\"$\",\"b\",null,{\"children\":\"Return Home\"}],\" button (at the bottom of this page) to try to locate to the home page.\"]}],[\"$\",\"li\",null,{\"children\":\"Check your address bar for spelling mistakes or typos.\"}],[\"$\",\"li\",null,{\"children\":\"Contact the project team if you believe you are seeing this page in error, including details of the page you were trying to reach.\"}]]}],[\"$\",\"$La\",null,{\"className\":\"btn rounded-md bg-slate-100 p-4 text-center text-violet-600 hover:bg-slate-200\",\"style\":{\"textDecoration\":\"none\"},\"href\":\"/\",\"children\":\"Return Home\"}]]}]}]}],\"notFoundStyles\":[],\"initialChildNode\":[null,\"$Lb\",null],\"childPropSegment\":[\"locale\",\"en\",\"d\"],\"styles\":[[\"$\",\"link\",\"0\",{\"rel\":\"stylesheet\",\"href\":\"/_next/static/css/e7d3bab42d9af29d.css\",\"precedence\":\"next\",\"crossOrigin\":\"\"}]]}],null]}]]\n"])</script><script>self.__next_f.push([1,"c:I[3412,[\"845\",\"static/chunks/3a75b86e-09cc80c17ccc6dcc.js\",\"358\",\"static/chunks/cdcb5d40-d7a666cb048b4a21.js\",\"73\",\"static/chunks/73-5befd669a6807cff.js\",\"985\",\"static/chunks/985-ba8fbba0420f110f.js\",\"238\",\"static/chunks/238-dc3d5ef8c869407c.js\",\"549\",\"static/chunks/549-3b83d1729256e7d5.js\",\"203\",\"static/chunks/app/%5Blocale%5D/layout-fa8fc146dcbcfdb6.js\"],\"ThemeProvider\"]\nd:I[9627,[\"845\",\"static/chunks/3a75b86e-09cc80c17ccc6dcc.js\",\"358\",\"static/chunks/cdcb5d40-d7a666cb048b4a21.js\",\"73\",\"static/chunks/73"])</script><script>self.__next_f.push([1,"-5befd669a6807cff.js\",\"985\",\"static/chunks/985-ba8fbba0420f110f.js\",\"238\",\"static/chunks/238-dc3d5ef8c869407c.js\",\"549\",\"static/chunks/549-3b83d1729256e7d5.js\",\"203\",\"static/chunks/app/%5Blocale%5D/layout-fa8fc146dcbcfdb6.js\"],\"\"]\nf:I[7972,[\"845\",\"static/chunks/3a75b86e-09cc80c17ccc6dcc.js\",\"358\",\"static/chunks/cdcb5d40-d7a666cb048b4a21.js\",\"73\",\"static/chunks/73-5befd669a6807cff.js\",\"985\",\"static/chunks/985-ba8fbba0420f110f.js\",\"238\",\"static/chunks/238-dc3d5ef8c869407c.js\",\"549\",\"static/chunks/549-3b83d172"])</script><script>self.__next_f.push([1,"9256e7d5.js\",\"203\",\"static/chunks/app/%5Blocale%5D/layout-fa8fc146dcbcfdb6.js\"],\"\"]\n14:I[1008,[\"845\",\"static/chunks/3a75b86e-09cc80c17ccc6dcc.js\",\"358\",\"static/chunks/cdcb5d40-d7a666cb048b4a21.js\",\"73\",\"static/chunks/73-5befd669a6807cff.js\",\"985\",\"static/chunks/985-ba8fbba0420f110f.js\",\"238\",\"static/chunks/238-dc3d5ef8c869407c.js\",\"549\",\"static/chunks/549-3b83d1729256e7d5.js\",\"203\",\"static/chunks/app/%5Blocale%5D/layout-fa8fc146dcbcfdb6.js\"],\"\"]\n10:[\"locale\",\"en\",\"d\"]\n11:[\"project\",\"desktop\",\"d\"]\n"])</script><script>self.__next_f.push([1,"b:[\"$\",\"html\",null,{\"lang\":\"en\",\"children\":[\"$\",\"body\",null,{\"className\":\"__className_e66fe9\",\"children\":[\"$\",\"$Lc\",null,{\"attribute\":\"class\",\"defaultTheme\":\"system\",\"enableSystem\":true,\"disableTransitionOnChange\":true,\"children\":[\"$\",\"$Ld\",null,{\"locale\":\"en\",\"now\":\"$D2023-11-22T15:12:46.098Z\",\"timeZone\":\"UTC\",\"messages\":{\"Navbar\":{\"communityBtn\":\"Community\"},\"ThemeTranslations\":{\"light\":\"Light\",\"dark\":\"Dark\",\"system\":\"System\"},\"SearchCommand\":{\"searchPlaceholder\":\"Search documentation...\",\"searchNoResultsFor\":\"No results for\",\"searchNoResults\":\"No results\"},\"ProductSwitcher\":{\"selectPlaceholder\":\"Select software\",\"fresco\":\"Fresco\",\"desktop\":\"Desktop\"},\"Home\":{\"title\":\"Home Page\"},\"DocPage\":{\"docAvailableTxt\":\"This document is also available in\"},\"ProjectPage\":{\"title\":\"This is an introductory page for\"},\"AIAssistant\":{\"dialogPlaceholder\":\"What is the main aim of the Network Canvas project?\",\"q1\":\"How does it work?\",\"q2\":\"What is Network Canvas?\",\"popupText\":\"Hi, how can I help you?\",\"welcomeMessage\":\"Hi, I'm an AI assistant trained on documentation. Ask me anything about Network Canvas.\"}},\"children\":[\"$Le\",[\"$\",\"div\",null,{\"className\":\"container mt-8 grid grid-cols-5 items-start gap-5\",\"children\":[[\"$\",\"$Lf\",null,{\"data\":[{\"en\":[{\"type\":\"folder\",\"name\":\"desktop\",\"language\":\"en\",\"source\":\"desktop\",\"files\":[{\"type\":\"file\",\"name\":\"Home\",\"language\":\"en\",\"path\":\"/desktop\",\"source\":\"desktop\"},{\"type\":\"file\",\"name\":\"Project Overview\",\"language\":\"en\",\"path\":\"/desktop/project-overview\",\"source\":\"project-overview\"},{\"type\":\"file\",\"name\":\"Installation Guide\",\"language\":\"en\",\"path\":\"/desktop/installation-guide\",\"source\":\"installation-guide\"},{\"type\":\"file\",\"name\":\"Protocol Gallery\",\"language\":\"en\",\"path\":\"/desktop/protocol-gallery\",\"source\":\"protocol-gallery\"},{\"type\":\"file\",\"name\":\"Frequently Asked Questions\",\"language\":\"en\",\"path\":\"/desktop/faq\",\"source\":\"faq\"},{\"type\":\"file\",\"name\":\"Citing the Software\",\"language\":\"en\",\"path\":\"/desktop/citing-the-software\",\"source\":\"citing-the-software\"},{\"type\":\"file\",\"name\":\"Contributing Code\",\"language\":\"en\",\"path\":\"/desktop/contributing-code\",\"source\":\"contributing-code\"},{\"type\":\"file\",\"name\":\"February 2022 Project Update\",\"language\":\"en\",\"path\":\"/desktop/february-2022-project-update\",\"source\":\"february-2022-project-update\"},{\"type\":\"file\",\"name\":\"Requests for Collaboration\",\"language\":\"en\",\"path\":\"/desktop/requests-for-collaboration\",\"source\":\"requests-for-collaboration\"},{\"type\":\"folder\",\"name\":\"How-to guides\",\"language\":\"en\",\"source\":\"how-to\",\"files\":[{\"type\":\"file\",\"name\":\"Choosing a Hardware Device for Interviewer\",\"language\":\"en\",\"path\":\"/desktop/how-to/choosing-hardware\",\"source\":\"choosing-hardware\"},{\"type\":\"file\",\"name\":\"Configuring Devices Prior To Starting Data Collection\",\"language\":\"en\",\"path\":\"/desktop/how-to/configuring-devices\",\"source\":\"configuring-devices\"},{\"type\":\"file\",\"name\":\"Importing Roster Data\",\"language\":\"en\",\"path\":\"/desktop/how-to/importing-roster-data\",\"source\":\"importing-roster-data\"},{\"type\":\"file\",\"name\":\"Pairing Interviewer Devices with Server\",\"language\":\"en\",\"path\":\"/desktop/how-to/pairing\",\"source\":\"pairing\"},{\"type\":\"file\",\"name\":\"Updating from Beta to the Stable Release\",\"language\":\"en\",\"path\":\"/desktop/how-to/updating-from-beta\",\"source\":\"updating-from-beta\"}]},{\"type\":\"folder\",\"name\":\"Interface documentation\",\"language\":\"en\",\"source\":\"interface-documentation\",\"files\":[{\"type\":\"file\",\"name\":\"Categorical Bin\",\"language\":\"en\",\"path\":\"/desktop/interface-documentation/categorical-bin\",\"source\":\"categorical-bin\"},{\"type\":\"file\",\"name\":\"Dyad Census\",\"language\":\"en\",\"path\":\"/desktop/interface-documentation/dyad-census\",\"source\":\"dyad-census\"},{\"type\":\"file\",\"name\":\"Ego Form\",\"language\":\"en\",\"path\":\"/desktop/interface-documentation/ego-form\",\"source\":\"ego-form\"},{\"type\":\"file\",\"name\":\"Information\",\"language\":\"en\",\"path\":\"/desktop/interface-documentation/information\",\"source\":\"information\"},{\"type\":\"file\",\"name\":\"Large Roster Name Generator\",\"language\":\"en\",\"path\":\"/desktop/interface-documentation/large-roster-name-generator\",\"source\":\"large-roster-name-generator\"},{\"type\":\"file\",\"name\":\"Name Generator for Roster Data\",\"language\":\"en\",\"path\":\"/desktop/interface-documentation/name-generator-roster\",\"source\":\"name-generator-roster\"},{\"type\":\"file\",\"name\":\"Name Generator using Forms\",\"language\":\"en\",\"path\":\"/desktop/interface-documentation/name-generator-using-forms\",\"source\":\"name-generator-using-forms\"},{\"type\":\"file\",\"name\":\"Name Generators using Quick Add\",\"language\":\"en\",\"path\":\"/desktop/interface-documentation/name-generator-using-quick-add\",\"source\":\"name-generator-using-quick-add\"},{\"type\":\"file\",\"name\":\"Narrative\",\"language\":\"en\",\"path\":\"/desktop/interface-documentation/narrative\",\"source\":\"narrative\"},{\"type\":\"file\",\"name\":\"Ordinal Bin\",\"language\":\"en\",\"path\":\"/desktop/interface-documentation/ordinal-bin\",\"source\":\"ordinal-bin\"},{\"type\":\"file\",\"name\":\"Per Alter Edge Form\",\"language\":\"en\",\"path\":\"/desktop/interface-documentation/per-alter-edge-form\",\"source\":\"per-alter-edge-form\"},{\"type\":\"file\",\"name\":\"Per Alter Form\",\"language\":\"en\",\"path\":\"/desktop/interface-documentation/per-alter-form\",\"source\":\"per-alter-form\"},{\"type\":\"file\",\"name\":\"Shared Interface Options\",\"language\":\"en\",\"path\":\"/desktop/interface-documentation/shared\",\"source\":\"shared\"},{\"type\":\"file\",\"name\":\"Small Roster Name Generator\",\"language\":\"en\",\"path\":\"/desktop/interface-documentation/small-roster-name-generator\",\"source\":\"small-roster-name-generator\"},{\"type\":\"file\",\"name\":\"Sociogram\",\"language\":\"en\",\"path\":\"/desktop/interface-documentation/sociogram\",\"source\":\"sociogram\"},{\"type\":\"file\",\"name\":\"Tie-Strength Census\",\"language\":\"en\",\"path\":\"/desktop/interface-documentation/tie-strength-census\",\"source\":\"tie-strength-census\"}]},{\"type\":\"folder\",\"name\":\"Key concepts\",\"language\":\"en\",\"source\":\"key-concepts\",\"files\":[{\"type\":\"file\",\"name\":\"Additional Variables\",\"language\":\"en\",\"path\":\"/desktop/key-concepts/additional-variables\",\"source\":\"additional-variables\"},{\"type\":\"file\",\"name\":\"Codebook\",\"language\":\"en\",\"path\":\"/desktop/key-concepts/codebook\",\"source\":\"codebook\"},{\"type\":\"file\",\"name\":\"Field Validation\",\"language\":\"en\",\"path\":\"/desktop/key-concepts/field-validation\",\"source\":\"field-validation\"},{\"type\":\"file\",\"name\":\"Forms\",\"language\":\"en\",\"path\":\"/desktop/key-concepts/forms\",\"source\":\"forms\"},{\"type\":\"file\",\"name\":\"Input Controls\",\"language\":\"en\",\"path\":\"/desktop/key-concepts/input-controls\",\"source\":\"input-controls\"},{\"type\":\"file\",\"name\":\"Interfaces\",\"language\":\"en\",\"path\":\"/desktop/key-concepts/interfaces\",\"source\":\"interfaces\"},{\"type\":\"file\",\"name\":\"Network Filtering\",\"language\":\"en\",\"path\":\"/desktop/key-concepts/network-filtering\",\"source\":\"network-filtering\"},{\"type\":\"file\",\"name\":\"Preview Mode\",\"language\":\"en\",\"path\":\"/desktop/key-concepts/preview-mode\",\"source\":\"preview-mode\"},{\"type\":\"file\",\"name\":\"Prompts\",\"language\":\"en\",\"path\":\"/desktop/key-concepts/prompts\",\"source\":\"prompts\"},{\"type\":\"file\",\"name\":\"Resources\",\"language\":\"en\",\"path\":\"/desktop/key-concepts/resources\",\"source\":\"resources\"},{\"type\":\"file\",\"name\":\"Skip Logic\",\"language\":\"en\",\"path\":\"/desktop/key-concepts/skip-logic\",\"source\":\"skip-logic\"},{\"type\":\"file\",\"name\":\"The Protocol File\",\"language\":\"en\",\"path\":\"/desktop/key-concepts/the-protocol-file\",\"source\":\"the-protocol-file\"}]},{\"type\":\"folder\",\"name\":\"Technical reference\",\"language\":\"en\",\"source\":\"reference\",\"files\":[{\"type\":\"file\",\"name\":\"IRB and Security Best Practices\",\"language\":\"en\",\"path\":\"/desktop/reference/irb-best-practices\",\"source\":\"irb-best-practices\"},{\"type\":\"file\",\"name\":\"Network Canvas GraphML Format\",\"language\":\"en\",\"path\":\"/desktop/reference/network-canvas-graphml\",\"source\":\"network-canvas-graphml\"},{\"type\":\"file\",\"name\":\"Node Labelling\",\"language\":\"en\",\"path\":\"/desktop/reference/node-labelling\",\"source\":\"node-labelling\"},{\"type\":\"file\",\"name\":\"Protocol File Format\",\"language\":\"en\",\"path\":\"/desktop/reference/protocol-file-format\",\"source\":\"protocol-file-format\"},{\"type\":\"file\",\"name\":\"Protocol Schema Information\",\"language\":\"en\",\"path\":\"/desktop/reference/protocol-schema-information\",\"source\":\"protocol-schema-information\"},{\"type\":\"file\",\"name\":\"Overview of Security Model\",\"language\":\"en\",\"path\":\"/desktop/reference/security-model\",\"source\":\"security-model\"},{\"type\":\"file\",\"name\":\"Project Testing Strategy\",\"language\":\"en\",\"path\":\"/desktop/reference/testing-strategy\",\"source\":\"testing-strategy\"},{\"type\":\"file\",\"name\":\"Variable Types\",\"language\":\"en\",\"path\":\"/desktop/reference/variable-types\",\"source\":\"variable-types\"}]},{\"type\":\"folder\",\"name\":\"Tutorials\",\"language\":\"en\",\"source\":\"tutorials\",\"files\":[{\"type\":\"file\",\"name\":\"Using Interviewer\",\"language\":\"en\",\"path\":\"/desktop/tutorials/using-interviewer\",\"source\":\"using-interviewer\"},{\"type\":\"file\",\"name\":\"Building a protocol using Architect\",\"language\":\"en\",\"path\":\"/desktop/tutorials/building-a-protocol\",\"source\":\"building-a-protocol\"},{\"type\":\"file\",\"name\":\"Using Server to manage a study\",\"language\":\"en\",\"path\":\"/desktop/tutorials/using-server\",\"source\":\"using-server\"},{\"type\":\"file\",\"name\":\"Protocol and Data Workflows without Server\",\"language\":\"en\",\"path\":\"/desktop/tutorials/workflows-without-server\",\"source\":\"workflows-without-server\"},{\"type\":\"file\",\"name\":\"Working with Network Canvas data in R\",\"language\":\"en\",\"path\":\"/desktop/tutorials/working-with-data\",\"source\":\"working-with-data\"},{\"type\":\"file\",\"name\":\"Working with Roster Data\",\"language\":\"en\",\"path\":\"/desktop/tutorials/working-with-rosters\",\"source\":\"working-with-rosters\"}]}]},{\"type\":\"folder\",\"name\":\"fresco\",\"language\":\"en\",\"source\":\"fresco\",\"files\":[{\"type\":\"file\",\"name\":\"Home\",\"language\":\"en\",\"path\":\"/fresco\",\"source\":\"fresco\"},{\"type\":\"folder\",\"name\":\"Installation guide\",\"language\":\"en\",\"source\":\"installation\",\"files\":[{\"type\":\"file\",\"name\":\"Fresco Installation guide\",\"language\":\"en\",\"path\":\"/fresco/installation/installation\",\"source\":\"installation\"}]},{\"type\":\"folder\",\"name\":\"Some Notes\",\"language\":\"en\",\"source\":\"some-notes\",\"files\":[{\"type\":\"file\",\"name\":\"Notes\",\"language\":\"en\",\"path\":\"/fresco/some-notes/notes\",\"source\":\"notes\"}]},{\"type\":\"folder\",\"name\":\"Third folder\",\"language\":\"en\",\"source\":\"third-folder\",\"files\":[{\"type\":\"file\",\"name\":\"TEST Document\",\"language\":\"en\",\"path\":\"/fresco/third-folder/test\",\"source\":\"test\"}]}]}]},{\"ru\":[{\"type\":\"folder\",\"name\":\"desktop\",\"language\":\"ru\",\"source\":\"desktop\",\"files\":[{\"type\":\"folder\",\"name\":\"Практические руководства\",\"language\":\"ru\",\"source\":\"how-to\",\"files\":[{\"type\":\"file\",\"name\":\"Выбор оборудования для Interviewer\",\"language\":\"ru\",\"path\":\"/desktop/how-to/choosing-hardware\",\"source\":\"choosing-hardware\"}]},{\"type\":\"folder\",\"name\":\"Техническая справка\",\"language\":\"ru\",\"source\":\"reference\",\"files\":[{\"type\":\"file\",\"name\":\"Практики безопасности IRB и безопасность\",\"language\":\"ru\",\"path\":\"/desktop/reference/irb-best-practices\",\"source\":\"irb-best-practices\"}]}]},{\"type\":\"folder\",\"name\":\"fresco\",\"language\":\"ru\",\"source\":\"fresco\",\"files\":[{\"type\":\"folder\",\"name\":\"Инструкция по установке\",\"language\":\"ru\",\"source\":\"installation\",\"files\":[{\"type\":\"file\",\"name\":\"Руководство по установке Fresco\",\"language\":\"ru\",\"path\":\"/fresco/installation/installation\",\"source\":\"installation\"}]},{\"type\":\"folder\",\"name\":\"Третья папка\",\"language\":\"ru\",\"source\":\"third-folder\",\"files\":[{\"type\":\"file\",\"name\":\"ТЕСТОВЫЙ документ\",\"language\":\"ru\",\"path\":\"/fresco/third-folder/test\",\"source\":\"test\"}]}]}]}],\"locale\":\"en\"}],[\"$\",\"div\",null,{\"className\":\"col-span-4 px-2\",\"children\":[\"$\",\"$L8\",null,{\"parallelRouterKey\":\"children\",\"segmentPath\":[\"children\",[\"locale\",\"en\",\"d\"],\"children\"],\"loading\":\"$undefined\",\"loadingStyles\":\"$undefined\",\"loadingScripts\":\"$undefined\",\"hasLoading\":false,\"error\":\"$undefined\",\"errorStyles\":\"$undefined\",\"errorScripts\":\"$undefined\",\"template\":[\"$\",\"$L9\",null,{}],\"templateStyles\":\"$undefined\",\"templateScripts\":\"$undefined\",\"notFound\":[\"$\",\"div\",null,{\"children\":[[\"$\",\"h2\",null,{\"children\":\"Not Found\"}],[\"$\",\"p\",null,{\"children\":\"Could not find requested resource\"}],[\"$\",\"$La\",null,{\"href\":\"/\",\"children\":\"Return Home\"}]]}],\"notFoundStyles\":[],\"initialChildNode\":[null,[\"$\",\"$L8\",null,{\"parallelRouterKey\":\"children\",\"segmentPath\":[\"children\",\"$10\",\"children\",[\"project\",\"desktop\",\"d\"],\"children\"],\"loading\":\"$undefined\",\"loadingStyles\":\"$undefined\",\"loadingScripts\":\"$undefined\",\"hasLoading\":false,\"error\":\"$undefined\",\"errorStyles\":\"$undefined\",\"errorScripts\":\"$undefined\",\"template\":[\"$\",\"$L9\",null,{}],\"templateStyles\":\"$undefined\",\"templateScripts\":\"$undefined\",\"notFound\":[\"$\",\"div\",null,{\"children\":[[\"$\",\"h2\",null,{\"children\":\"Not Found\"}],[\"$\",\"p\",null,{\"children\":\"Could not find requested resource\"}],[\"$\",\"$La\",null,{\"href\":\"/\",\"children\":\"Return Home\"}]]}],\"notFoundStyles\":[],\"initialChildNode\":[\"$\",\"$L8\",null,{\"parallelRouterKey\":\"children\",\"segmentPath\":[\"children\",\"$10\",\"children\",\"$11\",\"children\",[\"docPath\",\"tutorials/working-with-data\",\"c\"],\"children\"],\"loading\":\"$undefined\",\"loadingStyles\":\"$undefined\",\"loadingScripts\":\"$undefined\",\"hasLoading\":false,\"error\":\"$undefined\",\"errorStyles\":\"$undefined\",\"errorScripts\":\"$undefined\",\"template\":[\"$\",\"$L9\",null,{}],\"templateStyles\":\"$undefined\",\"templateScripts\":\"$undefined\",\"notFound\":[\"$\",\"div\",null,{\"children\":[[\"$\",\"h2\",null,{\"children\":\"Not Found\"}],[\"$\",\"p\",null,{\"children\":\"Could not find requested resource\"}],[\"$\",\"$La\",null,{\"href\":\"/\",\"children\":\"Return Home\"}]]}],\"notFoundStyles\":[],\"initialChildNode\":[\"$L12\",\"$L13\",null],\"childPropSegment\":\"__PAGE__?{\\\"locale\\\":\\\"en\\\",\\\"project\\\":\\\"desktop\\\",\\\"docPath\\\":[\\\"tutorials\\\",\\\"working-with-data\\\"]}\",\"styles\":null}],\"childPropSegment\":[\"docPath\",\"tutorials/working-with-data\",\"c\"],\"styles\":null}],null],\"childPropSegment\":[\"project\",\"desktop\",\"d\"],\"styles\":null}]}],[\"$\",\"$L14\",null,{}]]}]]}]}]}]}]\n"])</script><script>self.__next_f.push([1,"6:[[\"$\",\"meta\",\"0\",{\"name\":\"viewport\",\"content\":\"width=device-width, initial-scale=1\"}],[\"$\",\"meta\",\"1\",{\"charSet\":\"utf-8\"}],[\"$\",\"title\",\"2\",{\"children\":\"Working with Network Canvas data in R\"}],[\"$\",\"meta\",\"3\",{\"name\":\"description\",\"content\":\"All Network Canvas Docs\"}],[\"$\",\"meta\",\"4\",{\"name\":\"next-size-adjust\"}]]\n"])</script><script>self.__next_f.push([1,"19:I[8276,[\"73\",\"static/chunks/73-5befd669a6807cff.js\",\"985\",\"static/chunks/985-ba8fbba0420f110f.js\",\"238\",\"static/chunks/238-dc3d5ef8c869407c.js\",\"945\",\"static/chunks/app/%5Blocale%5D/%5Bproject%5D/%5B...docPath%5D/page-2f97d01bec3d90a8.js\"],\"\"]\n1a:I[1099,[\"73\",\"static/chunks/73-5befd669a6807cff.js\",\"985\",\"static/chunks/985-ba8fbba0420f110f.js\",\"238\",\"static/chunks/238-dc3d5ef8c869407c.js\",\"945\",\"static/chunks/app/%5Blocale%5D/%5Bproject%5D/%5B...docPath%5D/page-2f97d01bec3d90a8.js\"],\"Separator\"]\n1b:I[9006"])</script><script>self.__next_f.push([1,",[\"73\",\"static/chunks/73-5befd669a6807cff.js\",\"985\",\"static/chunks/985-ba8fbba0420f110f.js\",\"238\",\"static/chunks/238-dc3d5ef8c869407c.js\",\"945\",\"static/chunks/app/%5Blocale%5D/%5Bproject%5D/%5B...docPath%5D/page-2f97d01bec3d90a8.js\"],\"\"]\n1c:I[4435,[\"73\",\"static/chunks/73-5befd669a6807cff.js\",\"985\",\"static/chunks/985-ba8fbba0420f110f.js\",\"238\",\"static/chunks/238-dc3d5ef8c869407c.js\",\"945\",\"static/chunks/app/%5Blocale%5D/%5Bproject%5D/%5B...docPath%5D/page-2f97d01bec3d90a8.js\"],\"Image\"]\n1d:I[70,[\"845\",\"static"])</script><script>self.__next_f.push([1,"/chunks/3a75b86e-09cc80c17ccc6dcc.js\",\"358\",\"static/chunks/cdcb5d40-d7a666cb048b4a21.js\",\"73\",\"static/chunks/73-5befd669a6807cff.js\",\"985\",\"static/chunks/985-ba8fbba0420f110f.js\",\"238\",\"static/chunks/238-dc3d5ef8c869407c.js\",\"549\",\"static/chunks/549-3b83d1729256e7d5.js\",\"203\",\"static/chunks/app/%5Blocale%5D/layout-fa8fc146dcbcfdb6.js\"],\"\"]\n1e:I[3898,[\"845\",\"static/chunks/3a75b86e-09cc80c17ccc6dcc.js\",\"358\",\"static/chunks/cdcb5d40-d7a666cb048b4a21.js\",\"73\",\"static/chunks/73-5befd669a6807cff.js\",\"985\",\"static"])</script><script>self.__next_f.push([1,"/chunks/985-ba8fbba0420f110f.js\",\"238\",\"static/chunks/238-dc3d5ef8c869407c.js\",\"549\",\"static/chunks/549-3b83d1729256e7d5.js\",\"203\",\"static/chunks/app/%5Blocale%5D/layout-fa8fc146dcbcfdb6.js\"],\"\"]\n1f:I[5886,[\"845\",\"static/chunks/3a75b86e-09cc80c17ccc6dcc.js\",\"358\",\"static/chunks/cdcb5d40-d7a666cb048b4a21.js\",\"73\",\"static/chunks/73-5befd669a6807cff.js\",\"985\",\"static/chunks/985-ba8fbba0420f110f.js\",\"238\",\"static/chunks/238-dc3d5ef8c869407c.js\",\"549\",\"static/chunks/549-3b83d1729256e7d5.js\",\"203\",\"static/chunks/"])</script><script>self.__next_f.push([1,"app/%5Blocale%5D/layout-fa8fc146dcbcfdb6.js\"],\"ThemeToggle\"]\n"])</script><script>self.__next_f.push([1,"13:[\"$\",\"div\",null,{\"className\":\"flex items-start gap-1\",\"children\":[[\"$\",\"article\",null,{\"className\":\"prose prose-sm prose-slate mx-5 dark:prose-invert md:prose-base prose-blockquote:border-blue-500\",\"children\":[[\"$\",\"h1\",null,{\"children\":\"Working with Network Canvas data in R\"}],\"$L15\",null,[\"$\",\"div\",null,{\"className\":\"rounded-lg border shadow-sm bg-slate-200 text-black dark:bg-slate-600 dark:text-white\",\"children\":[\"$\",\"div\",null,{\"className\":\"p-4\",\"children\":[[\"$\",\"div\",null,{\"className\":\"text-sm\",\"children\":[[\"$\",\"span\",null,{\"className\":\"font-bold\",\"children\":\"SUMMARY:\"}],\"$L16\"]}],[\"$\",\"div\",null,{\"className\":\"text-sm\",\"children\":[[\"$\",\"span\",null,{\"className\":\"font-bold\",\"children\":\"PREREQUISITES:\"}],\"$L17\"]}],[\"$\",\"div\",null,{\"className\":\"text-sm\",\"children\":[[\"$\",\"span\",null,{\"className\":\"block font-bold\",\"children\":\"DURATION:\"}],[\"$\",\"div\",null,{\"className\":\"flex gap-1\",\"children\":[[\"$\",\"svg\",null,{\"xmlns\":\"http://www.w3.org/2000/svg\",\"width\":\"20px\",\"height\":\"20px\",\"viewBox\":\"0 0 24 24\",\"fill\":\"none\",\"stroke\":\"currentColor\",\"strokeWidth\":2,\"strokeLinecap\":\"round\",\"strokeLinejoin\":\"round\",\"className\":\"lucide lucide-clock\",\"children\":[[\"$\",\"circle\",\"1mglay\",{\"cx\":\"12\",\"cy\":\"12\",\"r\":\"10\"}],[\"$\",\"polyline\",\"68esgv\",{\"points\":\"12 6 12 12 16 14\"}],\"$undefined\"]}],\"30 mins\"]}]]}]]}]}],null,\"$L18\",null,[\"$\",\"p\",null,{\"className\":\"text-sm text-red-400\",\"children\":null}]]}],[\"$\",\"div\",null,{\"className\":\"sticky top-20\",\"children\":[[\"$\",\"div\",null,{\"className\":\"toc-component group overflow-x-hidden pb-5 false min-w-[300px] overflow-y-auto\",\"children\":[[\"$\",\"h3\",null,{\"className\":\"text-sm uppercase text-slate-400\",\"children\":\"Table of contents\"}],[\"$\",\"ul\",null,{\"className\":\"mx-6\",\"children\":[[\"$\",\"li\",\"data-analysis\",{\"children\":[[\"$\",\"$L19\",null,{\"node\":{\"value\":\"Data analysis\",\"depth\":2,\"data\":{\"id\":\"data-analysis\"},\"children\":[]}}],false]}]]}]]}],[\"$\",\"$L1a\",null,{}]]}]]}]\n"])</script><script>self.__next_f.push([1,"e:[\"$\",\"div\",null,{\"className\":\"sticky top-0 z-50 mb-5 border-b border-slate-200 bg-slate-950\",\"children\":[\"$\",\"div\",null,{\"className\":\"container flex h-16 items-center justify-between p-1\",\"children\":[[\"$\",\"$L1b\",null,{\"locale\":\"en\",\"href\":\"/\",\"className\":\"flex items-center gap-0.5\",\"children\":[[\"$\",\"$L1c\",null,{\"width\":\"40\",\"height\":\"40\",\"priority\":true,\"src\":{\"src\":\"/_next/static/media/logo.dcce3c7e.svg\",\"height\":199,\"width\":263,\"blurWidth\":0,\"blurHeight\":0},\"alt\":\"Logo\"}],[\"$\",\"span\",null,{\"className\":\"text-white\",\"children\":\"Network Canvas\"}]]}],[\"$\",\"div\",null,{\"className\":\"flex items-center gap-3\",\"children\":[[\"$\",\"$L1d\",null,{}],[\"$\",\"$L1e\",null,{\"width\":\"w-fit\"}],[\"$\",\"$L1f\",null,{}],[\"$\",\"$L1b\",null,{\"locale\":\"en\",\"className\":\"btn inline-block rounded-md bg-white p-2 text-center transition-colors hover:bg-stone-100 dark:bg-slate-700 dark:hover:bg-slate-600\",\"href\":\"https://community.networkcanvas.com\",\"target\":\"_blank\",\"children\":\"Community\"}]]}]]}]}]\n"])</script><script>self.__next_f.push([1,"12:null\n"])</script><script>self.__next_f.push([1,"15:null\n16:[\"$\",\"p\",null,{\"children\":\"This tutorial will show you how to work with Network Canvas data in the R statistics environment.\"}]\n17:[[\"$\",\"p\",null,{\"children\":\"In order to follow along with this tutorial you should:\"}],\"\\n\",[\"$\",\"ul\",null,{\"children\":[\"\\n\",[\"$\",\"li\",null,{\"children\":\"Have an understanding of the R environment.\"}],\"\\n\",[\"$\",\"li\",null,{\"children\":\"Have a working installation of R studio, or similar, in order to enter commands.\"}],\"\\n\"]}]]\n20:T482,"])</script><script>self.__next_f.push([1,"    # Load egor\n    library(egor)\n    library(sna)\n    library(ggplot2)\n\n    # This assumes the the data was unzipped to the \"networkCanvasExport\" folder that is located in the same folder as this script\n    # If the you have data somewhere else, set that folder path here:\n    folderPath \u003c- paste0(getwd(),'/networkCanvasExport/')\n\n    # Read each type of file into list, combine into single data frame\n    alterData \u003c- folderPath %\u003e%\n      list.files(full.names=TRUE,pattern=\"attributeList_Person.csv\") %\u003e%\n      lapply(read.csv) %\u003e%\n      bind_rows()\n\n    edgelistData_Close \u003c- folderPath %\u003e%\n      list.files(full.names=TRUE,pattern=\"edgeList_Close.csv\") %\u003e%\n      lapply(read.csv) %\u003e%\n      bind_rows()\n\n    edgelistData_SexTie \u003c- folderPath %\u003e%\n      list.files(full.names=TRUE,pattern=\"edgeList_SexTie.csv\") %\u003e%\n      lapply(read.csv) %\u003e%\n      bind_rows()\n\n    edgelistData_DrugTie \u003c- folderPath %\u003e%\n      list.files(full.names=TRUE,pattern=\"edgeList_DrugTie.csv\") %\u003e%\n      lapply(read.csv) %\u003e%\n      bind_rows()\n\n    egoData \u003c- folderPath %\u003e%\n      list.files(full.names=TRUE,pattern=\"ego.csv\") %\u003e%\n      lapply(read.csv) %\u003e%\n      bind_rows()\n"])</script><script>self.__next_f.push([1,"18:[[\"$\",\"p\",null,{\"children\":[\"This tutorial provides basic examples of import and analysis in R using\\ndata from the \",[\"$\",\"$La\",null,{\"className\":\"text-cyan-700\",\"href\":\"http://networkcanvas.com\",\"children\":\"Network Canvas\"}],\" software. The\\nexample will use simulated data from the following network canvas\\n\",[\"$\",\"$La\",null,{\"className\":\"text-cyan-700\",\"href\":\"https://github.com/complexdatacollective/working-with-data/raw/main/IJE_RADAR_Protocol.netcanvas\",\"children\":\"protocol\\nfile\"}],\"\\nwhich can be opened in the Network Canvas Interviewer or Architect apps.\\nThe data used in this tutorial can also be found\\n\",[\"$\",\"$La\",null,{\"className\":\"text-cyan-700\",\"href\":\"https://github.com/complexdatacollective/working-with-data/raw/main/networkCanvasExport.zip\",\"children\":\"here\"}],\".\"]}],\"\\n\",[\"$\",\"p\",null,{\"children\":[\"Find the github repository for this tutorial here: \",[\"$\",\"$La\",null,{\"className\":\"text-cyan-700\",\"href\":\"https://github.com/complexdatacollective/working-with-data\",\"children\":\"https://github.com/complexdatacollective/working-with-data\"}]]}],\"\\n\",[\"$\",\"h3\",null,{\"id\":\"export-data-from-network-canvas\",\"children\":[\"$\",\"$L1b\",null,{\"locale\":\"en\",\"className\":\"group flex items-center gap-1.5 no-underline transition-all hover:text-blue-400 undefined \",\"href\":\"#export-data-from-network-canvas\",\"children\":[\"Export data from Network Canvas\",[\"$\",\"div\",null,{\"className\":\"hidden group-hover:block\",\"children\":[\"$\",\"svg\",null,{\"xmlns\":\"http://www.w3.org/2000/svg\",\"width\":24,\"height\":24,\"viewBox\":\"0 0 24 24\",\"fill\":\"none\",\"stroke\":\"currentColor\",\"strokeWidth\":2,\"strokeLinecap\":\"round\",\"strokeLinejoin\":\"round\",\"className\":\"lucide lucide-link2\",\"children\":[[\"$\",\"path\",\"8i5ue5\",{\"d\":\"M9 17H7A5 5 0 0 1 7 7h2\"}],[\"$\",\"path\",\"1b9ql8\",{\"d\":\"M15 7h2a5 5 0 1 1 0 10h-2\"}],[\"$\",\"line\",\"1jonct\",{\"x1\":\"8\",\"x2\":\"16\",\"y1\":\"12\",\"y2\":\"12\"}],\"$undefined\"]}]}]]}]}],\"\\n\",[\"$\",\"p\",null,{\"children\":\"The first step in exporting data from Network Canvas is to navigate to\\nthe Manage and Export Session data in the Interviewer app.\"}],\"\\n\",[\"$\",\"p\",null,{\"children\":[\"$\",\"img\",null,{\"src\":\"/assets/img/working-with-data/NC_DataExport0.png\",\"alt\":\"Manage and Export Session\"}]}],\"\\n\",[\"$\",\"p\",null,{\"children\":\"Next, you’ll indicate which sessions you want to export by selecting the\\nappropriate cards and clicking “Export Selected To File.”\"}],\"\\n\",[\"$\",\"p\",null,{\"children\":[\"$\",\"img\",null,{\"src\":\"/assets/img/working-with-data/NC_DataExport1.png\",\"alt\":\"Select Network Canvas Sessions for Export\"}]}],\"\\n\",[\"$\",\"p\",null,{\"children\":\"Next, we’ll confirm export options. We will focus on the CSV export in\\nthis tutorial. I also leave the “Merge Sessions” option unselected\\nbecause I prefer to aggregate session data manually in R, as I will\\ndemonstrate below.\"}],\"\\n\",[\"$\",\"p\",null,{\"children\":[\"$\",\"img\",null,{\"src\":\"/assets/img/working-with-data/NC_DataExport2.png\",\"alt\":\"Confirm Network Canvas Export Options\"}]}],\"\\n\",[\"$\",\"p\",null,{\"children\":\"Finally, after a short wait, we simply select where we would like the\\nzip file containing all our data to be saved on our computer. We will\\nneed to unzip the file before starting our data analysis described below\"}],\"\\n\",[\"$\",\"p\",null,{\"children\":[\"$\",\"img\",null,{\"src\":\"/assets/img/working-with-data/NC_DataExport3.png\",\"alt\":\"Select file location\"}]}],\"\\n\",[\"$\",\"h3\",null,{\"id\":\"import-and-clean-the-data\",\"children\":[\"$\",\"$L1b\",null,{\"locale\":\"en\",\"className\":\"group flex items-center gap-1.5 no-underline transition-all hover:text-blue-400 undefined \",\"href\":\"#import-and-clean-the-data\",\"children\":[\"Import and clean the data\",[\"$\",\"div\",null,{\"className\":\"hidden group-hover:block\",\"children\":[\"$\",\"svg\",null,{\"xmlns\":\"http://www.w3.org/2000/svg\",\"width\":24,\"height\":24,\"viewBox\":\"0 0 24 24\",\"fill\":\"none\",\"stroke\":\"currentColor\",\"strokeWidth\":2,\"strokeLinecap\":\"round\",\"strokeLinejoin\":\"round\",\"className\":\"lucide lucide-link2\",\"children\":[[\"$\",\"path\",\"8i5ue5\",{\"d\":\"M9 17H7A5 5 0 0 1 7 7h2\"}],[\"$\",\"path\",\"1b9ql8\",{\"d\":\"M15 7h2a5 5 0 1 1 0 10h-2\"}],[\"$\",\"line\",\"1jonct\",{\"x1\":\"8\",\"x2\":\"16\",\"y1\":\"12\",\"y2\":\"12\"}],\"$undefined\"]}]}]]}]}],\"\\n\",[\"$\",\"p\",null,{\"children\":[\"Next we want to load the data into R. We use the \",[\"$\",\"em\",null,{\"children\":\"egor\"}],\" to do this,\\nusing examples derived from an egor \",[\"$\",\"$La\",null,{\"className\":\"text-cyan-700\",\"href\":\"https://cran.r-project.org/web/packages/egor/vignettes/using_egor.html\",\"children\":\"vignette\"}],\".\"]}],\"\\n\",[\"$\",\"pre\",null,{\"children\":[\"$\",\"code\",null,{\"children\":\"$20\"}]}],\"\\n\",[\"$\",\"p\",null,{\"children\":\"Now we can examine if the data looks like it should from the alter file.\\nAs you’ll see, the alter data file contains a unique alter identifier\\n(i.e., “networkCanvasUUID”) as well as a unique ego identifier (i.e.,\\n“networkCanvasEgoUUID”) which will both be used to define the egor\\nobject.\"}],\"\\n\",[\"$\",\"pre\",null,{\"children\":[\"$\",\"code\",null,{\"children\":\"\\n    head(alterData[,c(\\\"nodeID\\\",\\\"networkCanvasEgoUUID\\\",\\\"networkCanvasUUID\\\",\\\"Close\\\",\\\"Drugs\\\",\\\"Sex\\\",\\\"Age\\\")])\\n\\n    ##   nodeID                 networkCanvasEgoUUID\\n    ## 1      1 1b915958-a970-4742-9f98-154a5b97c3e9\\n    ## 2      2 1b915958-a970-4742-9f98-154a5b97c3e9\\n    ## 3      3 1b915958-a970-4742-9f98-154a5b97c3e9\\n    ## 4      4 1b915958-a970-4742-9f98-154a5b97c3e9\\n    ## 5      5 1b915958-a970-4742-9f98-154a5b97c3e9\\n    ## 6      6 1b915958-a970-4742-9f98-154a5b97c3e9\\n    ##                      networkCanvasUUID Close Drugs   Sex Age\\n    ## 1 38eea03a-de1e-4a0b-bd22-9424cd1d9011  true false false  28\\n    ## 2 21fc603a-34af-42eb-a317-14b9f04d811f  true false  true  91\\n    ## 3 b22bcff1-e4b9-4aa8-b4cd-0667a1f19ea9 false false  true  90\\n    ## 4 df31eaa1-bc6d-4213-a25e-61536391a23f false false false  51\\n    ## 5 c9a1103c-2246-427c-bd7b-f11ea1bf242f  true  true  true  82\\n    ## 6 c202aa1a-9d24-48b1-82ea-6dbc5e9580f7  true  true false  56\\n\"}]}],\"\\n\",[\"$\",\"h3\",null,{\"id\":\"recoding-categorical-variables\",\"children\":[\"$\",\"$L1b\",null,{\"locale\":\"en\",\"className\":\"group flex items-center gap-1.5 no-underline transition-all hover:text-blue-400 undefined \",\"href\":\"#recoding-categorical-variables\",\"children\":[\"Recoding categorical variables\",[\"$\",\"div\",null,{\"className\":\"hidden group-hover:block\",\"children\":[\"$\",\"svg\",null,{\"xmlns\":\"http://www.w3.org/2000/svg\",\"width\":24,\"height\":24,\"viewBox\":\"0 0 24 24\",\"fill\":\"none\",\"stroke\":\"currentColor\",\"strokeWidth\":2,\"strokeLinecap\":\"round\",\"strokeLinejoin\":\"round\",\"className\":\"lucide lucide-link2\",\"children\":[[\"$\",\"path\",\"8i5ue5\",{\"d\":\"M9 17H7A5 5 0 0 1 7 7h2\"}],[\"$\",\"path\",\"1b9ql8\",{\"d\":\"M15 7h2a5 5 0 1 1 0 10h-2\"}],[\"$\",\"line\",\"1jonct\",{\"x1\":\"8\",\"x2\":\"16\",\"y1\":\"12\",\"y2\":\"12\"}],\"$undefined\"]}]}]]}]}],\"\\n\",[\"$\",\"p\",null,{\"children\":\"Categorical variables from Network Canvas export as one column per\\ncategory with a Boolean value for each possible category. However,\\nresearchers frequently want to convert these variables to a single\\nfactor column in R. This helper function can help you achieve that.\"}],\"\\n\",[\"$\",\"pre\",null,{\"children\":[\"$\",\"code\",null,{\"children\":\"    catToFactor \u003c- function(dataframe,variableName) {\\n        fullVariableName \u003c- paste0(variableName,\\\"_\\\")\\n        catVariables \u003c- grep(fullVariableName, names(dataframe), value=TRUE)\\n        # Check if variable exists\\n        if (identical(catVariables, character(0))){\\n          stop(paste0(\\\"Cannot find variable named -\\\",variableName,\\\"- in the data\\\"))\\n        # Check if \\\"true\\\" in multiple columns of a single row\\n        } else if (sum(apply(dataframe[,catVariables], 1, function(x) sum(x %in% \\\"true\\\")\u003e1))\u003e0) {\\n          stop(paste0(\\\"Your variable -\\\",variableName,\\\"  - appears to take multiple values.\\\")) }\\n        catValues \u003c- sub(paste0('.*',fullVariableName), '', catVariables)\\n        factorVariable \u003c- c()\\n        for(i in 1:length(catVariables)){\\n          factorVariable[dataframe[catVariables[i]]==\\\"true\\\"] \u003c- catValues[i]\\n        }\\n        return(factor(factorVariable,levels=catValues))\\n    }\\n\"}]}],\"\\n\",[\"$\",\"p\",null,{\"children\":\"Using this function, we can recode three variables from the current\\nprotocol into factors\"}],\"\\n\",[\"$\",\"pre\",null,{\"children\":[\"$\",\"code\",null,{\"children\":\"\\n    # List of categorical variables in our protocol to convert into factors\\n    categoricalVariablesList \u003c- list('Gender','Race','SexOrient')\\n\\n    # Iterate the list and call our catToFactor function, assigning the result to a new column in our dataframe\\n    for (variable in categoricalVariablesList) {\\n      alterData[variable] \u003c- catToFactor(alterData, variable)\\n    }\\n\"}]}],\"\\n\",[\"$\",\"h3\",null,{\"id\":\"miscellaneous-data-cleaning\",\"children\":[\"$\",\"$L1b\",null,{\"locale\":\"en\",\"className\":\"group flex items-center gap-1.5 no-underline transition-all hover:text-blue-400 undefined \",\"href\":\"#miscellaneous-data-cleaning\",\"children\":[\"Miscellaneous data cleaning\",[\"$\",\"div\",null,{\"className\":\"hidden group-hover:block\",\"children\":[\"$\",\"svg\",null,{\"xmlns\":\"http://www.w3.org/2000/svg\",\"width\":24,\"height\":24,\"viewBox\":\"0 0 24 24\",\"fill\":\"none\",\"stroke\":\"currentColor\",\"strokeWidth\":2,\"strokeLinecap\":\"round\",\"strokeLinejoin\":\"round\",\"className\":\"lucide lucide-link2\",\"children\":[[\"$\",\"path\",\"8i5ue5\",{\"d\":\"M9 17H7A5 5 0 0 1 7 7h2\"}],[\"$\",\"path\",\"1b9ql8\",{\"d\":\"M15 7h2a5 5 0 1 1 0 10h-2\"}],[\"$\",\"line\",\"1jonct\",{\"x1\":\"8\",\"x2\":\"16\",\"y1\":\"12\",\"y2\":\"12\"}],\"$undefined\"]}]}]]}]}],\"\\n\",[\"$\",\"p\",null,{\"children\":\"We’ll want to do a little data cleaning by contact frequency and\\ncounting the number of substances participants reported using, before\\nloading it into an egor object.\"}],\"\\n\",[\"$\",\"pre\",null,{\"children\":[\"$\",\"code\",null,{\"children\":\"    alterData$ContactFreq[alterData$ContactFreq==\\\"Less_than_weekly\\\"] \u003c- \\\"Less than \\\\n weekly\\\"\\n\\n    countTrues \u003c- function(vector) {\\n      length(which(vector==\\\"true\\\"))\\n    }\\n    drugNames \u003c-c(\\\"MarijuanaUsed\\\",\\\"CocaineUsed\\\",\\\"HeroinUsed\\\",\\\"PainkillersUsed\\\",\\\"PoppersUsed\\\")\\n    egoData$numberDrugs \u003c- apply(egoData[,c(drugNames)],FUN=countTrues,MARGIN=1)\\n\"}]}],\"\\n\",[\"$\",\"h3\",null,{\"id\":\"create-an-egor-object\",\"children\":[\"$\",\"$L1b\",null,{\"locale\":\"en\",\"className\":\"group flex items-center gap-1.5 no-underline transition-all hover:text-blue-400 undefined \",\"href\":\"#create-an-egor-object\",\"children\":[\"Create an egor object\",[\"$\",\"div\",null,{\"className\":\"hidden group-hover:block\",\"children\":[\"$\",\"svg\",null,{\"xmlns\":\"http://www.w3.org/2000/svg\",\"width\":24,\"height\":24,\"viewBox\":\"0 0 24 24\",\"fill\":\"none\",\"stroke\":\"currentColor\",\"strokeWidth\":2,\"strokeLinecap\":\"round\",\"strokeLinejoin\":\"round\",\"className\":\"lucide lucide-link2\",\"children\":[[\"$\",\"path\",\"8i5ue5\",{\"d\":\"M9 17H7A5 5 0 0 1 7 7h2\"}],[\"$\",\"path\",\"1b9ql8\",{\"d\":\"M15 7h2a5 5 0 1 1 0 10h-2\"}],[\"$\",\"line\",\"1jonct\",{\"x1\":\"8\",\"x2\":\"16\",\"y1\":\"12\",\"y2\":\"12\"}],\"$undefined\"]}]}]]}]}],\"\\n\",[\"$\",\"p\",null,{\"children\":\"After loading and cleaning the data, we still need to make it into an\\negor object. Although we have 3 data files with edgelist data, we’ll be\\nfocusing on “Close” social ties for the remainder of this tutorial\"}],\"\\n\",[\"$\",\"pre\",null,{\"children\":[\"$\",\"code\",null,{\"children\":\"    # Load the file into R\\n    egorNetworkCanvas \u003c- egor(alters = alterData,\\n               egos = egoData,\\n               aaties = edgelistData_Close,\\n               ID.vars = list(\\n                 ego = \\\"networkCanvasEgoUUID\\\",\\n                 alter = \\\"networkCanvasUUID\\\",\\n                 source = \\\"networkCanvasSourceUUID\\\",\\n                 target = \\\"networkCanvasTargetUUID\\\"))\\n\"}]}],\"\\n\",[\"$\",\"h3\",null,{\"id\":\"data-visualization\",\"children\":[\"$\",\"$L1b\",null,{\"locale\":\"en\",\"className\":\"group flex items-center gap-1.5 no-underline transition-all hover:text-blue-400 undefined \",\"href\":\"#data-visualization\",\"children\":[\"Data visualization\",[\"$\",\"div\",null,{\"className\":\"hidden group-hover:block\",\"children\":[\"$\",\"svg\",null,{\"xmlns\":\"http://www.w3.org/2000/svg\",\"width\":24,\"height\":24,\"viewBox\":\"0 0 24 24\",\"fill\":\"none\",\"stroke\":\"currentColor\",\"strokeWidth\":2,\"strokeLinecap\":\"round\",\"strokeLinejoin\":\"round\",\"className\":\"lucide lucide-link2\",\"children\":[[\"$\",\"path\",\"8i5ue5\",{\"d\":\"M9 17H7A5 5 0 0 1 7 7h2\"}],[\"$\",\"path\",\"1b9ql8\",{\"d\":\"M15 7h2a5 5 0 1 1 0 10h-2\"}],[\"$\",\"line\",\"1jonct\",{\"x1\":\"8\",\"x2\":\"16\",\"y1\":\"12\",\"y2\":\"12\"}],\"$undefined\"]}]}]]}]}],\"\\n\",[\"$\",\"p\",null,{\"children\":\"Lets start with a simple visualization of one ego network. To do this\\nwe’ll first convert it to a ‘network’ object and use the gplot function\\nfrom the sna package. This visualization shows the new node labels and\\ncolors each node by the contact frequency with the participant. We also\\nlayout the figure with the final coordinates from the sociogram stage.\"}],\"\\n\",[\"$\",\"pre\",null,{\"children\":[\"$\",\"code\",null,{\"children\":\"    oneEgoNet \u003c- as_network(egorNetworkCanvas)[[9]]\\n    oneEgoNet%v%\\\"vertex.names\\\" \u003c- oneEgoNet%v%\\\"name\\\"\\n\\n    colorScheme \u003c- c( \\\"#CC6677\\\", \\\"#117733\\\", \\\"#AA4499\\\",\\n                      \\\"#6699CC\\\")\\n\\n    # A little recoding to get a color for each frequency\\n    nodeColors \u003c- ifelse(oneEgoNet%v%\\\"ContactFreq\\\"==\\\"Daily\\\",colorScheme[1],\\n                        ifelse(oneEgoNet%v%\\\"ContactFreq\\\"==\\\"Weekly\\\",colorScheme[2],\\n                               ifelse(oneEgoNet%v%\\\"ContactFreq\\\"==\\\"Less than \\\\n weekly\\\",colorScheme[3],\\n                                      colorScheme[4])))\\n\\n    gplot(oneEgoNet,\\n           usearrows = FALSE,\\n           label = oneEgoNet%v%\\\"name\\\",\\n           displaylabels = TRUE,\\n           vertex.col=nodeColors,\\n           edge.col=\\\"gray\\\",\\n           coord = matrix(c(as.numeric(oneEgoNet%v%\\\"Cords_x\\\"),\\n                            -as.numeric(oneEgoNet%v%\\\"Cords_y\\\")),\\n                            nrow=length(unique(oneEgoNet%v%\\\"name\\\")),\\n                            ncol=2))\\n\"}]}],\"\\n\",[\"$\",\"$L1c\",null,{\"width\":450,\"height\":450,\"src\":\"/assets/img/working-with-data/vis1.png\",\"alt\":\"\",\"style\":{\"marginBlock\":\"10px\"},\"className\":\"h-full w-full object-cover\"}],\"\\n\",[\"$\",\"p\",null,{\"children\":\"As you can see, this only shows a single egocentric network. However,\\nthe egor package has several functions that facilitate comparison of\\nnetworks across ego nets. For example, here is a visualization showing\\neach ego net with nodes location being dependent on their frequency of\\ncontact with the participant and their status as a drug partner (i.e.,\\ntrue/false).\"}],\"\\n\",[\"$\",\"pre\",null,{\"children\":[\"$\",\"code\",null,{\"children\":\"    # Make a visualization displaying both frequency of communication and family member status\\n    plot(egorNetworkCanvas, venn_var = \\\"Drugs\\\",\\n         pie_var = \\\"ContactFreq\\\",vertex_label_var=\\\"nodeID\\\",\\n         type = \\\"egogram\\\")\\n\"}]}],\"\\n\",[\"$\",\"$L1c\",null,{\"width\":450,\"height\":450,\"src\":\"/assets/img/working-with-data/vis2.png\",\"alt\":\"\",\"style\":{\"marginBlock\":\"10px\"},\"className\":\"h-full w-full object-cover\"}],\"\\n\",[\"$\",\"h2\",null,{\"id\":\"data-analysis\",\"children\":[\"$\",\"$L1b\",null,{\"locale\":\"en\",\"className\":\"group flex items-center gap-1.5 no-underline transition-all hover:text-blue-400 undefined \",\"href\":\"#data-analysis\",\"children\":[\"Data analysis\",[\"$\",\"div\",null,{\"className\":\"hidden group-hover:block\",\"children\":[\"$\",\"svg\",null,{\"xmlns\":\"http://www.w3.org/2000/svg\",\"width\":24,\"height\":24,\"viewBox\":\"0 0 24 24\",\"fill\":\"none\",\"stroke\":\"currentColor\",\"strokeWidth\":2,\"strokeLinecap\":\"round\",\"strokeLinejoin\":\"round\",\"className\":\"lucide lucide-link2\",\"children\":[[\"$\",\"path\",\"8i5ue5\",{\"d\":\"M9 17H7A5 5 0 0 1 7 7h2\"}],[\"$\",\"path\",\"1b9ql8\",{\"d\":\"M15 7h2a5 5 0 1 1 0 10h-2\"}],[\"$\",\"line\",\"1jonct\",{\"x1\":\"8\",\"x2\":\"16\",\"y1\":\"12\",\"y2\":\"12\"}],\"$undefined\"]}]}]]}]}],\"\\n\",[\"$\",\"p\",null,{\"children\":[\"The egor package has numerous functions that help with basic data\\nanalysis of ego networks. For example, the \",[\"$\",\"em\",null,{\"children\":\"summary\"}],\" function provides\\nan overview of all ego networks in the egor while the \",[\"$\",\"em\",null,{\"children\":\"ego_density\"}],\"\\nfunctions provides the density for each participant’s network.\"]}],\"\\n\",[\"$\",\"pre\",null,{\"children\":[\"$\",\"code\",null,{\"children\":\"    summary(egorNetworkCanvas)\\n\\n    ## 9 Egos/ Ego Networks\\n    ## 91 Alters\\n    ## Min. Netsize 3\\n    ## Average Netsize 10.1111111111111\\n    ## Max. Netsize 20\\n    ## Average Density 0.385856531573766\\n    ## Alter survey design:\\n    ##   Maximum nominations: Inf\\n\\n    ego_density(egorNetworkCanvas)\\n\\n    ## # A tibble: 9 × 2\\n    ##   .egoID                               density\\n    ##   \u003cchr\u003e                                  \u003cdbl\u003e\\n    ## 1 1b915958-a970-4742-9f98-154a5b97c3e9 0.619\\n    ## 2 102783ac-c48d-4953-97e6-3d84f39fd5d5 0.214\\n    ## 3 51ce5e11-9aed-4b07-8ccf-1e96f7194ba6 0.0256\\n    ## 4 ef3aeefe-1af9-4fd4-9e75-318eb329778f 0.105\\n    ## 5 aae09896-5fc5-4295-8349-58045da6e86a 1\\n    ## 6 2944b829-ef9d-446e-b592-6fbf57657743 0.00526\\n    ## 7 79cee692-a513-408d-9701-0efe078b0240 0.218\\n    ## 8 1c6dd8fd-2b2f-4139-80bc-63c7f34a5ec1 1\\n    ## 9 0ce518be-d845-4439-8e3a-bd6b86e7cf40 0.286\\n\"}]}],\"\\n\",[\"$\",\"p\",null,{\"children\":[\"We can also use a traditional package, such as \",[\"$\",\"em\",null,{\"children\":\"sna\"}],\", to look at these\\nnetworks by applying functions (i.e., lapply) to each of these networks\\nand aggregating the results. For example, here we first make a simple\\nhistogram of alter degrees across all ego networks.\"]}],\"\\n\",[\"$\",\"pre\",null,{\"children\":[\"$\",\"code\",null,{\"children\":\"    networkNetworkCanvas \u003c- as_network(egorNetworkCanvas)\\n\\n    histData \u003c- networkNetworkCanvas %\u003e%\\n      lapply(degree,cmode=\\\"indegree\\\") %\u003e%\\n      unlist(recursive = FALSE) %\u003e%\\n      as.data.frame()\\n\\n    histData$degree \u003c- as.numeric(histData$\\\".\\\")\\n\\n    ggplot(histData, aes(x=degree)) +\\n        geom_histogram(color=\\\"black\\\", fill=\\\"white\\\",bins=5) +\\n        theme_classic()\\n\"}]}],\"\\n\",[\"$\",\"$L1c\",null,{\"width\":450,\"height\":450,\"src\":\"/assets/img/working-with-data/vis4.png\",\"alt\":\"\",\"style\":{\"marginBlock\":\"10px\"},\"className\":\"h-full w-full object-cover\"}],\"\\n\",[\"$\",\"p\",null,{\"children\":\"Finally, we often want to examine how an ego attribute may be associated\\nwith ego network characteristics. In this example we look at the\\nassociation between the number of substances a participant reported\\nusing and the density of their ego network.\"}],\"\\n\",[\"$\",\"pre\",null,{\"children\":[\"$\",\"code\",null,{\"children\":\"    ego_density(egorNetworkCanvas) %\u003e%\\n      full_join(egorNetworkCanvas$ego,by=\\\".egoID\\\") %\u003e%\\n      ggplot(aes(x = numberDrugs, y = density)) +\\n        geom_point(size=5) +\\n        geom_text(label=egorNetworkCanvas$ego$networkCanvasCaseID, aes(vjust=c(-1.5))) +\\n        ylim(0,1.05) + theme_classic()\\n\"}]}],\"\\n\",[\"$\",\"$L1c\",null,{\"width\":450,\"height\":450,\"src\":\"/assets/img/working-with-data/vis5.png\",\"alt\":\"\",\"style\":{\"marginBlock\":\"10px\"},\"className\":\"h-full w-full object-cover\"}],\"\\n\",[\"$\",\"pre\",null,{\"children\":[\"$\",\"code\",null,{}]}]]\n"])</script><script>self.__next_f.push([1,""])</script></body></html>