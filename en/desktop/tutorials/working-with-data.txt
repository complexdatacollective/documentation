0:["ZWIOBhQCcIGdvcHV4wVvg",[[["",{"children":[["locale","en","d"],{"children":[["project","desktop","d"],{"children":[["docPath","tutorials/working-with-data","c"],{"children":["__PAGE__?{\"locale\":\"en\",\"project\":\"desktop\",\"docPath\":[\"tutorials\",\"working-with-data\"]}",{}]}]}]}]},"$undefined","$undefined",true],"$L1",[null,"$L2"]]]]
3:HL["/_next/static/media/c9a5bc6a7c948fb0-s.p.woff2","font",{"crossOrigin":"","type":"font/woff2"}]
4:HL["/_next/static/css/a69d11671000865d.css","style",{"crossOrigin":""}]
5:I[825,[],""]
6:I[4348,[],""]
1:[null,["$","$L5",null,{"parallelRouterKey":"children","segmentPath":["children"],"loading":"$undefined","loadingStyles":"$undefined","loadingScripts":"$undefined","hasLoading":false,"error":"$undefined","errorStyles":"$undefined","errorScripts":"$undefined","template":["$","$L6",null,{}],"templateStyles":"$undefined","templateScripts":"$undefined","notFound":["$","div",null,{"className":"text-red-400","children":"Custom 404 Page"}],"notFoundStyles":[],"initialChildNode":[null,"$L7",null],"childPropSegment":["locale","en","d"],"styles":[["$","link","0",{"rel":"stylesheet","href":"/_next/static/css/a69d11671000865d.css","precedence":"next","crossOrigin":""}]]}],null]
2:[["$","meta","0",{"name":"viewport","content":"width=device-width, initial-scale=1"}],["$","meta","1",{"charSet":"utf-8"}],["$","title","2",{"children":"Working with Network Canvas data in R"}],["$","meta","3",{"name":"description","content":"All Network Canvas Docs"}],["$","meta","4",{"name":"next-size-adjust"}]]
8:I[3412,["845","static/chunks/3a75b86e-09cc80c17ccc6dcc.js","358","static/chunks/cdcb5d40-d7a666cb048b4a21.js","682","static/chunks/682-9dca31736e4b0b9b.js","921","static/chunks/921-b6e3f25bb4244a53.js","203","static/chunks/app/%5Blocale%5D/layout-66b017a2acaf4f3a.js"],"ThemeProvider"]
9:I[9627,["84","static/chunks/app/%5Blocale%5D/%5Bproject%5D/page-0a428067f90e630d.js"],""]
b:I[7972,["845","static/chunks/3a75b86e-09cc80c17ccc6dcc.js","358","static/chunks/cdcb5d40-d7a666cb048b4a21.js","682","static/chunks/682-9dca31736e4b0b9b.js","921","static/chunks/921-b6e3f25bb4244a53.js","203","static/chunks/app/%5Blocale%5D/layout-66b017a2acaf4f3a.js"],""]
10:I[1008,["845","static/chunks/3a75b86e-09cc80c17ccc6dcc.js","358","static/chunks/cdcb5d40-d7a666cb048b4a21.js","682","static/chunks/682-9dca31736e4b0b9b.js","921","static/chunks/921-b6e3f25bb4244a53.js","203","static/chunks/app/%5Blocale%5D/layout-66b017a2acaf4f3a.js"],""]
c:["locale","en","d"]
d:["project","desktop","d"]
7:["$","html",null,{"lang":"en","suppressHydrationWarning":true,"children":["$","body",null,{"className":"__className_e66fe9","children":["$","$L8",null,{"attribute":"class","defaultTheme":"system","enableSystem":true,"disableTransitionOnChange":true,"children":["$","$L9",null,{"locale":"en","now":"$D2023-11-17T15:07:36.692Z","timeZone":"UTC","messages":{"Navbar":{"communityBtn":"Community"},"ThemeTranslations":{"light":"Light","dark":"Dark","system":"System"},"SearchCommand":{"searchPlaceholder":"Search documentation...","searchNoResultsFor":"No results for","searchNoResults":"No results"},"ProductSwitcher":{"selectPlaceholder":"Select software","fresco":"Fresco","desktop":"Desktop"},"Home":{"title":"Home Page"},"DocPage":{"docAvailableTxt":"This document is also available in"},"ProjectPage":{"title":"This is an introductory page for"},"AIAssistant":{"dialogPlaceholder":"What is the main aim of the Network Canvas project?","q1":"How does it work?","q2":"What is Network Canvas?","popupText":"Hi, how can I help you?","welcomeMessage":"Hi, I'm an AI assistant trained on documentation. Ask me anything about Network Canvas."}},"children":["$La",["$","div",null,{"className":"container mt-8 grid grid-cols-5 items-start gap-5","children":[["$","$Lb",null,{"data":[{"en":[{"type":"folder","name":"desktop","language":"en","source":"desktop","files":[{"type":"file","name":"404 - Not found","language":"en","path":"/desktop/404","source":"404"},{"type":"file","name":"Citing the Software","language":"en","path":"/desktop/citing-the-software","source":"citing-the-software"},{"type":"file","name":"Contributing Code","language":"en","path":"/desktop/contributing-code","source":"contributing-code"},{"type":"file","name":"Frequently Asked Questions","language":"en","path":"/desktop/faq","source":"faq"},{"type":"file","name":"February 2022 Project Update","language":"en","path":"/desktop/february-2022-project-update","source":"february-2022-project-update"},{"type":"file","name":"Home","language":"en","path":"/desktop/index","source":"index"},{"type":"file","name":"Installation Guide","language":"en","path":"/desktop/installation-guide","source":"installation-guide"},{"type":"file","name":"Project Overview","language":"en","path":"/desktop/project-overview","source":"project-overview"},{"type":"file","name":"Protocol Gallery","language":"en","path":"/desktop/protocol-gallery","source":"protocol-gallery"},{"type":"file","name":"Requests for Collaboration","language":"en","path":"/desktop/requests-for-collaboration","source":"requests-for-collaboration"},{"type":"folder","name":"How-to guides","language":"en","source":"how-to","files":[{"type":"file","name":"Choosing a Hardware Device for Interviewer","language":"en","path":"/desktop/how-to/choosing-hardware","source":"choosing-hardware"},{"type":"file","name":"Configuring Devices Prior To Starting Data Collection","language":"en","path":"/desktop/how-to/configuring-devices","source":"configuring-devices"},{"type":"file","name":"Importing Roster Data","language":"en","path":"/desktop/how-to/importing-roster-data","source":"importing-roster-data"},{"type":"file","name":"Pairing Interviewer Devices with Server","language":"en","path":"/desktop/how-to/pairing","source":"pairing"},{"type":"file","name":"Updating from Beta to the Stable Release","language":"en","path":"/desktop/how-to/updating-from-beta","source":"updating-from-beta"}]},{"type":"folder","name":"Interface documentation","language":"en","source":"interface-documentation","files":[{"type":"file","name":"Categorical Bin","language":"en","path":"/desktop/interface-documentation/categorical-bin","source":"categorical-bin"},{"type":"file","name":"Dyad Census","language":"en","path":"/desktop/interface-documentation/dyad-census","source":"dyad-census"},{"type":"file","name":"Ego Form","language":"en","path":"/desktop/interface-documentation/ego-form","source":"ego-form"},{"type":"file","name":"Information","language":"en","path":"/desktop/interface-documentation/information","source":"information"},{"type":"file","name":"Large Roster Name Generator","language":"en","path":"/desktop/interface-documentation/large-roster-name-generator","source":"large-roster-name-generator"},{"type":"file","name":"Name Generator for Roster Data","language":"en","path":"/desktop/interface-documentation/name-generator-roster","source":"name-generator-roster"},{"type":"file","name":"Name Generator using Forms","language":"en","path":"/desktop/interface-documentation/name-generator-using-forms","source":"name-generator-using-forms"},{"type":"file","name":"Name Generators using Quick Add","language":"en","path":"/desktop/interface-documentation/name-generator-using-quick-add","source":"name-generator-using-quick-add"},{"type":"file","name":"Narrative","language":"en","path":"/desktop/interface-documentation/narrative","source":"narrative"},{"type":"file","name":"Ordinal Bin","language":"en","path":"/desktop/interface-documentation/ordinal-bin","source":"ordinal-bin"},{"type":"file","name":"Per Alter Edge Form","language":"en","path":"/desktop/interface-documentation/per-alter-edge-form","source":"per-alter-edge-form"},{"type":"file","name":"Per Alter Form","language":"en","path":"/desktop/interface-documentation/per-alter-form","source":"per-alter-form"},{"type":"file","name":"Shared Interface Options","language":"en","path":"/desktop/interface-documentation/shared","source":"shared"},{"type":"file","name":"Small Roster Name Generator","language":"en","path":"/desktop/interface-documentation/small-roster-name-generator","source":"small-roster-name-generator"},{"type":"file","name":"Sociogram","language":"en","path":"/desktop/interface-documentation/sociogram","source":"sociogram"},{"type":"file","name":"Tie-Strength Census","language":"en","path":"/desktop/interface-documentation/tie-strength-census","source":"tie-strength-census"}]},{"type":"folder","name":"Key concepts","language":"en","source":"key-concepts","files":[{"type":"file","name":"Additional Variables","language":"en","path":"/desktop/key-concepts/additional-variables","source":"additional-variables"},{"type":"file","name":"Codebook","language":"en","path":"/desktop/key-concepts/codebook","source":"codebook"},{"type":"file","name":"Field Validation","language":"en","path":"/desktop/key-concepts/field-validation","source":"field-validation"},{"type":"file","name":"Forms","language":"en","path":"/desktop/key-concepts/forms","source":"forms"},{"type":"file","name":"Input Controls","language":"en","path":"/desktop/key-concepts/input-controls","source":"input-controls"},{"type":"file","name":"Interfaces","language":"en","path":"/desktop/key-concepts/interfaces","source":"interfaces"},{"type":"file","name":"Network Filtering","language":"en","path":"/desktop/key-concepts/network-filtering","source":"network-filtering"},{"type":"file","name":"Preview Mode","language":"en","path":"/desktop/key-concepts/preview-mode","source":"preview-mode"},{"type":"file","name":"Prompts","language":"en","path":"/desktop/key-concepts/prompts","source":"prompts"},{"type":"file","name":"Resources","language":"en","path":"/desktop/key-concepts/resources","source":"resources"},{"type":"file","name":"Skip Logic","language":"en","path":"/desktop/key-concepts/skip-logic","source":"skip-logic"},{"type":"file","name":"The Protocol File","language":"en","path":"/desktop/key-concepts/the-protocol-file","source":"the-protocol-file"}]},{"type":"folder","name":"Technical reference","language":"en","source":"reference","files":[{"type":"file","name":"IRB and Security Best Practices","language":"en","path":"/desktop/reference/irb-best-practices","source":"irb-best-practices"},{"type":"file","name":"Network Canvas GraphML Format","language":"en","path":"/desktop/reference/network-canvas-graphml","source":"network-canvas-graphml"},{"type":"file","name":"Node Labelling","language":"en","path":"/desktop/reference/node-labelling","source":"node-labelling"},{"type":"file","name":"Protocol File Format","language":"en","path":"/desktop/reference/protocol-file-format","source":"protocol-file-format"},{"type":"file","name":"Protocol Schema Information","language":"en","path":"/desktop/reference/protocol-schema-information","source":"protocol-schema-information"},{"type":"file","name":"Overview of Security Model","language":"en","path":"/desktop/reference/security-model","source":"security-model"},{"type":"file","name":"Project Testing Strategy","language":"en","path":"/desktop/reference/testing-strategy","source":"testing-strategy"},{"type":"file","name":"Variable Types","language":"en","path":"/desktop/reference/variable-types","source":"variable-types"}]},{"type":"folder","name":"Tutorials","language":"en","source":"tutorials","files":[{"type":"file","name":"Building a protocol using Architect","language":"en","path":"/desktop/tutorials/building-a-protocol","source":"building-a-protocol"},{"type":"file","name":"Using Interviewer","language":"en","path":"/desktop/tutorials/using-interviewer","source":"using-interviewer"},{"type":"file","name":"Using Server to manage a study","language":"en","path":"/desktop/tutorials/using-server","source":"using-server"},{"type":"file","name":"Protocol and Data Workflows without Server","language":"en","path":"/desktop/tutorials/workflows-without-server","source":"workflows-without-server"},{"type":"file","name":"Working with Network Canvas data in R","language":"en","path":"/desktop/tutorials/working-with-data","source":"working-with-data"},{"type":"file","name":"Working with Roster Data","language":"en","path":"/desktop/tutorials/working-with-rosters","source":"working-with-rosters"}]}]},{"type":"folder","name":"fresco","language":"en","source":"fresco","files":[{"type":"folder","name":"Installation guide","language":"en","source":"installation","files":[{"type":"file","name":"Fresco Installation guide","language":"en","path":"/fresco/installation/installation","source":"installation"}]},{"type":"folder","name":"Introduction","language":"en","source":"introduction","files":[{"type":"file","name":"Fresco Introduction","language":"en","path":"/fresco/introduction/introduction","source":"introduction"}]},{"type":"folder","name":"Third folder","language":"en","source":"third-folder","files":[{"type":"file","name":"TEST Document","language":"en","path":"/fresco/third-folder/test","source":"test"}]}]}]},{"ru":[{"type":"folder","name":"desktop","language":"ru","source":"desktop","files":[{"type":"folder","name":"Практические руководства","language":"ru","source":"how-to","files":[{"type":"file","name":"Выбор оборудования для Interviewer","language":"ru","path":"/desktop/how-to/choosing-hardware","source":"choosing-hardware"}]},{"type":"folder","name":"Техническая справка","language":"ru","source":"reference","files":[{"type":"file","name":"Практики безопасности IRB и безопасность","language":"ru","path":"/desktop/reference/irb-best-practices","source":"irb-best-practices"}]}]},{"type":"folder","name":"fresco","language":"ru","source":"fresco","files":[{"type":"folder","name":"Инструкция по установке","language":"ru","source":"installation","files":[{"type":"file","name":"Руководство по установке Fresco","language":"ru","path":"/fresco/installation/installation","source":"installation"}]},{"type":"folder","name":"Третья папка","language":"ru","source":"third-folder","files":[{"type":"file","name":"ТЕСТОВЫЙ документ","language":"ru","path":"/fresco/third-folder/test","source":"test"}]}]}]}],"locale":"en"}],["$","div",null,{"className":"col-span-4 px-2","children":["$","$L5",null,{"parallelRouterKey":"children","segmentPath":["children",["locale","en","d"],"children"],"loading":"$undefined","loadingStyles":"$undefined","loadingScripts":"$undefined","hasLoading":false,"error":"$undefined","errorStyles":"$undefined","errorScripts":"$undefined","template":["$","$L6",null,{}],"templateStyles":"$undefined","templateScripts":"$undefined","notFound":"$undefined","notFoundStyles":"$undefined","initialChildNode":[null,["$","$L5",null,{"parallelRouterKey":"children","segmentPath":["children","$c","children",["project","desktop","d"],"children"],"loading":"$undefined","loadingStyles":"$undefined","loadingScripts":"$undefined","hasLoading":false,"error":"$undefined","errorStyles":"$undefined","errorScripts":"$undefined","template":["$","$L6",null,{}],"templateStyles":"$undefined","templateScripts":"$undefined","notFound":"$undefined","notFoundStyles":"$undefined","initialChildNode":["$","$L5",null,{"parallelRouterKey":"children","segmentPath":["children","$c","children","$d","children",["docPath","tutorials/working-with-data","c"],"children"],"loading":"$undefined","loadingStyles":"$undefined","loadingScripts":"$undefined","hasLoading":false,"error":"$undefined","errorStyles":"$undefined","errorScripts":"$undefined","template":["$","$L6",null,{}],"templateStyles":"$undefined","templateScripts":"$undefined","notFound":"$undefined","notFoundStyles":"$undefined","initialChildNode":["$Le","$Lf",null],"childPropSegment":"__PAGE__?{\"locale\":\"en\",\"project\":\"desktop\",\"docPath\":[\"tutorials\",\"working-with-data\"]}","styles":null}],"childPropSegment":["docPath","tutorials/working-with-data","c"],"styles":null}],null],"childPropSegment":["project","desktop","d"],"styles":null}]}],["$","$L10",null,{}]]}]]}]}]}]}]
15:I[8276,["682","static/chunks/682-9dca31736e4b0b9b.js","945","static/chunks/app/%5Blocale%5D/%5Bproject%5D/%5B...docPath%5D/page-d6d082de3dc1ac65.js"],""]
16:I[1426,["682","static/chunks/682-9dca31736e4b0b9b.js","945","static/chunks/app/%5Blocale%5D/%5Bproject%5D/%5B...docPath%5D/page-d6d082de3dc1ac65.js"],"Separator"]
17:I[9006,["682","static/chunks/682-9dca31736e4b0b9b.js","945","static/chunks/app/%5Blocale%5D/%5Bproject%5D/%5B...docPath%5D/page-d6d082de3dc1ac65.js"],""]
18:I[4435,["682","static/chunks/682-9dca31736e4b0b9b.js","945","static/chunks/app/%5Blocale%5D/%5Bproject%5D/%5B...docPath%5D/page-d6d082de3dc1ac65.js"],"Image"]
19:I[70,["845","static/chunks/3a75b86e-09cc80c17ccc6dcc.js","358","static/chunks/cdcb5d40-d7a666cb048b4a21.js","682","static/chunks/682-9dca31736e4b0b9b.js","921","static/chunks/921-b6e3f25bb4244a53.js","203","static/chunks/app/%5Blocale%5D/layout-66b017a2acaf4f3a.js"],""]
1a:I[3898,["845","static/chunks/3a75b86e-09cc80c17ccc6dcc.js","358","static/chunks/cdcb5d40-d7a666cb048b4a21.js","682","static/chunks/682-9dca31736e4b0b9b.js","921","static/chunks/921-b6e3f25bb4244a53.js","203","static/chunks/app/%5Blocale%5D/layout-66b017a2acaf4f3a.js"],""]
1b:I[5886,["845","static/chunks/3a75b86e-09cc80c17ccc6dcc.js","358","static/chunks/cdcb5d40-d7a666cb048b4a21.js","682","static/chunks/682-9dca31736e4b0b9b.js","921","static/chunks/921-b6e3f25bb4244a53.js","203","static/chunks/app/%5Blocale%5D/layout-66b017a2acaf4f3a.js"],"ThemeToggle"]
f:["$","div",null,{"className":"flex items-start gap-1","children":[["$","article",null,{"className":"prose prose-sm prose-slate mx-5 dark:prose-invert md:prose-base lg:prose-lg prose-blockquote:border-blue-500","children":[["$","h1",null,{"children":"Working with Network Canvas data in R"}],"$L11",null,["$","div",null,{"className":"rounded-lg border shadow-sm bg-slate-200 text-black dark:bg-slate-600 dark:text-white","children":["$","div",null,{"className":"p-4","children":[["$","div",null,{"className":"text-sm","children":[["$","span",null,{"className":"font-bold","children":"SUMMARY:"}],"$L12"]}],["$","div",null,{"className":"text-sm","children":[["$","span",null,{"className":"font-bold","children":"PREREQUISITES:"}],"$L13"]}],["$","div",null,{"className":"text-sm","children":[["$","span",null,{"className":"block font-bold","children":"DURATION:"}],["$","div",null,{"className":"flex gap-1","children":[["$","svg",null,{"xmlns":"http://www.w3.org/2000/svg","width":"20px","height":"20px","viewBox":"0 0 24 24","fill":"none","stroke":"currentColor","strokeWidth":2,"strokeLinecap":"round","strokeLinejoin":"round","className":"lucide lucide-clock","children":[["$","circle","1mglay",{"cx":"12","cy":"12","r":"10"}],["$","polyline","68esgv",{"points":"12 6 12 12 16 14"}],"$undefined"]}],"30 mins"]}]]}]]}]}],null,"$L14",null,["$","p",null,{"className":"text-sm text-red-400","children":null}]]}],["$","div",null,{"className":"sticky top-20","children":[["$","div",null,{"className":"toc-component group overflow-x-hidden pb-5 false min-w-[300px] overflow-y-auto","children":[["$","h3",null,{"className":"text-md uppercase text-slate-300","children":"Table of contents"}],["$","ul",null,{"className":"mx-6","children":[["$","li","data-analysis",{"children":[["$","$L15",null,{"node":{"value":"Data analysis","depth":2,"data":{"id":"data-analysis"},"children":[]}}],false]}]]}]]}],["$","$L16",null,{}]]}]]}]
a:["$","div",null,{"className":"sticky top-0 z-50 mb-5 border-b border-slate-200 bg-slate-950","children":["$","div",null,{"className":"container flex h-16 items-center justify-between p-1","children":[["$","$L17",null,{"locale":"en","href":"/","className":"flex items-center gap-0.5","children":[["$","$L18",null,{"width":"40","height":"40","priority":true,"src":{"src":"/_next/static/media/logo.dcce3c7e.svg","height":199,"width":263,"blurWidth":0,"blurHeight":0},"alt":"Logo"}],["$","span",null,{"className":"text-green-400","children":"Network Canvas"}]]}],["$","div",null,{"className":"flex items-center gap-3","children":[["$","$L19",null,{}],["$","$L1a",null,{"width":"w-fit"}],["$","$L1b",null,{}],["$","button",null,{"className":"inline-flex items-center justify-center rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 bg-primary text-primary-foreground hover:bg-primary/90 h-10 px-4 py-2","children":"Community"}]]}]]}]}]
e:null
11:null
12:["$","p",null,{"children":"This tutorial will show you how to work with Network Canvas data in the R statistics environment."}]
13:[["$","p",null,{"children":"In order to follow along with this tutorial you should:"}],"\n",["$","ul",null,{"children":["\n",["$","li",null,{"children":"Have an understanding of the R environment."}],"\n",["$","li",null,{"children":"Have a working installation of R studio, or similar, in order to enter commands."}],"\n"]}]]
1c:T482,    # Load egor
    library(egor)
    library(sna)
    library(ggplot2)

    # This assumes the the data was unzipped to the "networkCanvasExport" folder that is located in the same folder as this script
    # If the you have data somewhere else, set that folder path here:
    folderPath <- paste0(getwd(),'/networkCanvasExport/')

    # Read each type of file into list, combine into single data frame
    alterData <- folderPath %>%
      list.files(full.names=TRUE,pattern="attributeList_Person.csv") %>%
      lapply(read.csv) %>%
      bind_rows()

    edgelistData_Close <- folderPath %>%
      list.files(full.names=TRUE,pattern="edgeList_Close.csv") %>%
      lapply(read.csv) %>%
      bind_rows()

    edgelistData_SexTie <- folderPath %>%
      list.files(full.names=TRUE,pattern="edgeList_SexTie.csv") %>%
      lapply(read.csv) %>%
      bind_rows()

    edgelistData_DrugTie <- folderPath %>%
      list.files(full.names=TRUE,pattern="edgeList_DrugTie.csv") %>%
      lapply(read.csv) %>%
      bind_rows()

    egoData <- folderPath %>%
      list.files(full.names=TRUE,pattern="ego.csv") %>%
      lapply(read.csv) %>%
      bind_rows()
14:[["$","p",null,{"children":["This tutorial provides basic examples of import and analysis in R using\ndata from the ",["$","a",null,{"href":"http://networkcanvas.com","children":"Network Canvas"}]," software. The\nexample will use simulated data from the following network canvas\n",["$","a",null,{"href":"https://github.com/complexdatacollective/working-with-data/raw/main/IJE_RADAR_Protocol.netcanvas","children":"protocol\nfile"}],"\nwhich can be opened in the Network Canvas Interviewer or Architect apps.\nThe data used in this tutorial can also be found\n",["$","a",null,{"href":"https://github.com/complexdatacollective/working-with-data/raw/main/networkCanvasExport.zip","children":"here"}],"."]}],"\n",["$","p",null,{"children":["Find the github repository for this tutorial here: ",["$","a",null,{"href":"https://github.com/complexdatacollective/working-with-data","children":"https://github.com/complexdatacollective/working-with-data"}]]}],"\n",["$","h3",null,{"id":"export-data-from-network-canvas","children":["$","$L17",null,{"locale":"en","className":"group flex items-center gap-1.5 no-underline transition-all hover:text-blue-400 undefined ","href":"#export-data-from-network-canvas","children":["Export data from Network Canvas",["$","svg",null,{"xmlns":"http://www.w3.org/2000/svg","width":24,"height":24,"viewBox":"0 0 24 24","fill":"none","stroke":"currentColor","strokeWidth":2,"strokeLinecap":"round","strokeLinejoin":"round","className":"hidden text-violet-500 group-hover:block","children":[["$","path","8i5ue5",{"d":"M9 17H7A5 5 0 0 1 7 7h2"}],["$","path","1b9ql8",{"d":"M15 7h2a5 5 0 1 1 0 10h-2"}],["$","line","1jonct",{"x1":"8","x2":"16","y1":"12","y2":"12"}],"$undefined"]}]]}]}],"\n",["$","p",null,{"children":"The first step in exporting data from Network Canvas is to navigate to\nthe Manage and Export Session data in the Interviewer app."}],"\n",["$","p",null,{"children":["$","img",null,{"src":"/assets/img/working-with-data/NC_DataExport0.png","alt":"Manage and Export Session"}]}],"\n",["$","p",null,{"children":"Next, you’ll indicate which sessions you want to export by selecting the\nappropriate cards and clicking “Export Selected To File.”"}],"\n",["$","p",null,{"children":["$","img",null,{"src":"/assets/img/working-with-data/NC_DataExport1.png","alt":"Select Network Canvas Sessions for Export"}]}],"\n",["$","p",null,{"children":"Next, we’ll confirm export options. We will focus on the CSV export in\nthis tutorial. I also leave the “Merge Sessions” option unselected\nbecause I prefer to aggregate session data manually in R, as I will\ndemonstrate below."}],"\n",["$","p",null,{"children":["$","img",null,{"src":"/assets/img/working-with-data/NC_DataExport2.png","alt":"Confirm Network Canvas Export Options"}]}],"\n",["$","p",null,{"children":"Finally, after a short wait, we simply select where we would like the\nzip file containing all our data to be saved on our computer. We will\nneed to unzip the file before starting our data analysis described below"}],"\n",["$","p",null,{"children":["$","img",null,{"src":"/assets/img/working-with-data/NC_DataExport3.png","alt":"Select file location"}]}],"\n",["$","h3",null,{"id":"import-and-clean-the-data","children":["$","$L17",null,{"locale":"en","className":"group flex items-center gap-1.5 no-underline transition-all hover:text-blue-400 undefined ","href":"#import-and-clean-the-data","children":["Import and clean the data",["$","svg",null,{"xmlns":"http://www.w3.org/2000/svg","width":24,"height":24,"viewBox":"0 0 24 24","fill":"none","stroke":"currentColor","strokeWidth":2,"strokeLinecap":"round","strokeLinejoin":"round","className":"hidden text-violet-500 group-hover:block","children":[["$","path","8i5ue5",{"d":"M9 17H7A5 5 0 0 1 7 7h2"}],["$","path","1b9ql8",{"d":"M15 7h2a5 5 0 1 1 0 10h-2"}],["$","line","1jonct",{"x1":"8","x2":"16","y1":"12","y2":"12"}],"$undefined"]}]]}]}],"\n",["$","p",null,{"children":["Next we want to load the data into R. We use the ",["$","em",null,{"children":"egor"}]," to do this,\nusing examples derived from an egor ",["$","a",null,{"href":"https://cran.r-project.org/web/packages/egor/vignettes/using_egor.html","children":"vignette"}],"."]}],"\n",["$","pre",null,{"children":["$","code",null,{"children":"$1c"}]}],"\n",["$","p",null,{"children":"Now we can examine if the data looks like it should from the alter file.\nAs you’ll see, the alter data file contains a unique alter identifier\n(i.e., “networkCanvasUUID”) as well as a unique ego identifier (i.e.,\n“networkCanvasEgoUUID”) which will both be used to define the egor\nobject."}],"\n",["$","pre",null,{"children":["$","code",null,{"children":"\n    head(alterData[,c(\"nodeID\",\"networkCanvasEgoUUID\",\"networkCanvasUUID\",\"Close\",\"Drugs\",\"Sex\",\"Age\")])\n\n    ##   nodeID                 networkCanvasEgoUUID\n    ## 1      1 1b915958-a970-4742-9f98-154a5b97c3e9\n    ## 2      2 1b915958-a970-4742-9f98-154a5b97c3e9\n    ## 3      3 1b915958-a970-4742-9f98-154a5b97c3e9\n    ## 4      4 1b915958-a970-4742-9f98-154a5b97c3e9\n    ## 5      5 1b915958-a970-4742-9f98-154a5b97c3e9\n    ## 6      6 1b915958-a970-4742-9f98-154a5b97c3e9\n    ##                      networkCanvasUUID Close Drugs   Sex Age\n    ## 1 38eea03a-de1e-4a0b-bd22-9424cd1d9011  true false false  28\n    ## 2 21fc603a-34af-42eb-a317-14b9f04d811f  true false  true  91\n    ## 3 b22bcff1-e4b9-4aa8-b4cd-0667a1f19ea9 false false  true  90\n    ## 4 df31eaa1-bc6d-4213-a25e-61536391a23f false false false  51\n    ## 5 c9a1103c-2246-427c-bd7b-f11ea1bf242f  true  true  true  82\n    ## 6 c202aa1a-9d24-48b1-82ea-6dbc5e9580f7  true  true false  56\n"}]}],"\n",["$","h3",null,{"id":"recoding-categorical-variables","children":["$","$L17",null,{"locale":"en","className":"group flex items-center gap-1.5 no-underline transition-all hover:text-blue-400 undefined ","href":"#recoding-categorical-variables","children":["Recoding categorical variables",["$","svg",null,{"xmlns":"http://www.w3.org/2000/svg","width":24,"height":24,"viewBox":"0 0 24 24","fill":"none","stroke":"currentColor","strokeWidth":2,"strokeLinecap":"round","strokeLinejoin":"round","className":"hidden text-violet-500 group-hover:block","children":[["$","path","8i5ue5",{"d":"M9 17H7A5 5 0 0 1 7 7h2"}],["$","path","1b9ql8",{"d":"M15 7h2a5 5 0 1 1 0 10h-2"}],["$","line","1jonct",{"x1":"8","x2":"16","y1":"12","y2":"12"}],"$undefined"]}]]}]}],"\n",["$","p",null,{"children":"Categorical variables from Network Canvas export as one column per\ncategory with a Boolean value for each possible category. However,\nresearchers frequently want to convert these variables to a single\nfactor column in R. This helper function can help you achieve that."}],"\n",["$","pre",null,{"children":["$","code",null,{"children":"    catToFactor <- function(dataframe,variableName) {\n        fullVariableName <- paste0(variableName,\"_\")\n        catVariables <- grep(fullVariableName, names(dataframe), value=TRUE)\n        # Check if variable exists\n        if (identical(catVariables, character(0))){\n          stop(paste0(\"Cannot find variable named -\",variableName,\"- in the data\"))\n        # Check if \"true\" in multiple columns of a single row\n        } else if (sum(apply(dataframe[,catVariables], 1, function(x) sum(x %in% \"true\")>1))>0) {\n          stop(paste0(\"Your variable -\",variableName,\"  - appears to take multiple values.\")) }\n        catValues <- sub(paste0('.*',fullVariableName), '', catVariables)\n        factorVariable <- c()\n        for(i in 1:length(catVariables)){\n          factorVariable[dataframe[catVariables[i]]==\"true\"] <- catValues[i]\n        }\n        return(factor(factorVariable,levels=catValues))\n    }\n"}]}],"\n",["$","p",null,{"children":"Using this function, we can recode three variables from the current\nprotocol into factors"}],"\n",["$","pre",null,{"children":["$","code",null,{"children":"\n    # List of categorical variables in our protocol to convert into factors\n    categoricalVariablesList <- list('Gender','Race','SexOrient')\n\n    # Iterate the list and call our catToFactor function, assigning the result to a new column in our dataframe\n    for (variable in categoricalVariablesList) {\n      alterData[variable] <- catToFactor(alterData, variable)\n    }\n"}]}],"\n",["$","h3",null,{"id":"miscellaneous-data-cleaning","children":["$","$L17",null,{"locale":"en","className":"group flex items-center gap-1.5 no-underline transition-all hover:text-blue-400 undefined ","href":"#miscellaneous-data-cleaning","children":["Miscellaneous data cleaning",["$","svg",null,{"xmlns":"http://www.w3.org/2000/svg","width":24,"height":24,"viewBox":"0 0 24 24","fill":"none","stroke":"currentColor","strokeWidth":2,"strokeLinecap":"round","strokeLinejoin":"round","className":"hidden text-violet-500 group-hover:block","children":[["$","path","8i5ue5",{"d":"M9 17H7A5 5 0 0 1 7 7h2"}],["$","path","1b9ql8",{"d":"M15 7h2a5 5 0 1 1 0 10h-2"}],["$","line","1jonct",{"x1":"8","x2":"16","y1":"12","y2":"12"}],"$undefined"]}]]}]}],"\n",["$","p",null,{"children":"We’ll want to do a little data cleaning by contact frequency and\ncounting the number of substances participants reported using, before\nloading it into an egor object."}],"\n",["$","pre",null,{"children":["$","code",null,{"children":"    alterData$ContactFreq[alterData$ContactFreq==\"Less_than_weekly\"] <- \"Less than \\n weekly\"\n\n    countTrues <- function(vector) {\n      length(which(vector==\"true\"))\n    }\n    drugNames <-c(\"MarijuanaUsed\",\"CocaineUsed\",\"HeroinUsed\",\"PainkillersUsed\",\"PoppersUsed\")\n    egoData$numberDrugs <- apply(egoData[,c(drugNames)],FUN=countTrues,MARGIN=1)\n"}]}],"\n",["$","h3",null,{"id":"create-an-egor-object","children":["$","$L17",null,{"locale":"en","className":"group flex items-center gap-1.5 no-underline transition-all hover:text-blue-400 undefined ","href":"#create-an-egor-object","children":["Create an egor object",["$","svg",null,{"xmlns":"http://www.w3.org/2000/svg","width":24,"height":24,"viewBox":"0 0 24 24","fill":"none","stroke":"currentColor","strokeWidth":2,"strokeLinecap":"round","strokeLinejoin":"round","className":"hidden text-violet-500 group-hover:block","children":[["$","path","8i5ue5",{"d":"M9 17H7A5 5 0 0 1 7 7h2"}],["$","path","1b9ql8",{"d":"M15 7h2a5 5 0 1 1 0 10h-2"}],["$","line","1jonct",{"x1":"8","x2":"16","y1":"12","y2":"12"}],"$undefined"]}]]}]}],"\n",["$","p",null,{"children":"After loading and cleaning the data, we still need to make it into an\negor object. Although we have 3 data files with edgelist data, we’ll be\nfocusing on “Close” social ties for the remainder of this tutorial"}],"\n",["$","pre",null,{"children":["$","code",null,{"children":"    # Load the file into R\n    egorNetworkCanvas <- egor(alters = alterData,\n               egos = egoData,\n               aaties = edgelistData_Close,\n               ID.vars = list(\n                 ego = \"networkCanvasEgoUUID\",\n                 alter = \"networkCanvasUUID\",\n                 source = \"networkCanvasSourceUUID\",\n                 target = \"networkCanvasTargetUUID\"))\n"}]}],"\n",["$","h3",null,{"id":"data-visualization","children":["$","$L17",null,{"locale":"en","className":"group flex items-center gap-1.5 no-underline transition-all hover:text-blue-400 undefined ","href":"#data-visualization","children":["Data visualization",["$","svg",null,{"xmlns":"http://www.w3.org/2000/svg","width":24,"height":24,"viewBox":"0 0 24 24","fill":"none","stroke":"currentColor","strokeWidth":2,"strokeLinecap":"round","strokeLinejoin":"round","className":"hidden text-violet-500 group-hover:block","children":[["$","path","8i5ue5",{"d":"M9 17H7A5 5 0 0 1 7 7h2"}],["$","path","1b9ql8",{"d":"M15 7h2a5 5 0 1 1 0 10h-2"}],["$","line","1jonct",{"x1":"8","x2":"16","y1":"12","y2":"12"}],"$undefined"]}]]}]}],"\n",["$","p",null,{"children":"Lets start with a simple visualization of one ego network. To do this\nwe’ll first convert it to a ‘network’ object and use the gplot function\nfrom the sna package. This visualization shows the new node labels and\ncolors each node by the contact frequency with the participant. We also\nlayout the figure with the final coordinates from the sociogram stage."}],"\n",["$","pre",null,{"children":["$","code",null,{"children":"    oneEgoNet <- as_network(egorNetworkCanvas)[[9]]\n    oneEgoNet%v%\"vertex.names\" <- oneEgoNet%v%\"name\"\n\n    colorScheme <- c( \"#CC6677\", \"#117733\", \"#AA4499\",\n                      \"#6699CC\")\n\n    # A little recoding to get a color for each frequency\n    nodeColors <- ifelse(oneEgoNet%v%\"ContactFreq\"==\"Daily\",colorScheme[1],\n                        ifelse(oneEgoNet%v%\"ContactFreq\"==\"Weekly\",colorScheme[2],\n                               ifelse(oneEgoNet%v%\"ContactFreq\"==\"Less than \\n weekly\",colorScheme[3],\n                                      colorScheme[4])))\n\n    gplot(oneEgoNet,\n           usearrows = FALSE,\n           label = oneEgoNet%v%\"name\",\n           displaylabels = TRUE,\n           vertex.col=nodeColors,\n           edge.col=\"gray\",\n           coord = matrix(c(as.numeric(oneEgoNet%v%\"Cords_x\"),\n                            -as.numeric(oneEgoNet%v%\"Cords_y\")),\n                            nrow=length(unique(oneEgoNet%v%\"name\")),\n                            ncol=2))\n"}]}],"\n",["$","$L18",null,{"width":450,"height":450,"src":"/assets/img/working-with-data/vis1.png","alt":"","style":{"marginBlock":"10px"},"className":"h-full w-full object-cover"}],"\n",["$","p",null,{"children":"As you can see, this only shows a single egocentric network. However,\nthe egor package has several functions that facilitate comparison of\nnetworks across ego nets. For example, here is a visualization showing\neach ego net with nodes location being dependent on their frequency of\ncontact with the participant and their status as a drug partner (i.e.,\ntrue/false)."}],"\n",["$","pre",null,{"children":["$","code",null,{"children":"    # Make a visualization displaying both frequency of communication and family member status\n    plot(egorNetworkCanvas, venn_var = \"Drugs\",\n         pie_var = \"ContactFreq\",vertex_label_var=\"nodeID\",\n         type = \"egogram\")\n"}]}],"\n",["$","$L18",null,{"width":450,"height":450,"src":"/assets/img/working-with-data/vis2.png","alt":"","style":{"marginBlock":"10px"},"className":"h-full w-full object-cover"}],"\n",["$","h2",null,{"id":"data-analysis","children":["$","$L17",null,{"locale":"en","className":"group flex items-center gap-1.5 no-underline transition-all hover:text-blue-400 text-green-400 ","href":"#data-analysis","children":["Data analysis",["$","svg",null,{"xmlns":"http://www.w3.org/2000/svg","width":24,"height":24,"viewBox":"0 0 24 24","fill":"none","stroke":"currentColor","strokeWidth":2,"strokeLinecap":"round","strokeLinejoin":"round","className":"hidden text-violet-500 group-hover:block","children":[["$","path","8i5ue5",{"d":"M9 17H7A5 5 0 0 1 7 7h2"}],["$","path","1b9ql8",{"d":"M15 7h2a5 5 0 1 1 0 10h-2"}],["$","line","1jonct",{"x1":"8","x2":"16","y1":"12","y2":"12"}],"$undefined"]}]]}]}],"\n",["$","p",null,{"children":["The egor package has numerous functions that help with basic data\nanalysis of ego networks. For example, the ",["$","em",null,{"children":"summary"}]," function provides\nan overview of all ego networks in the egor while the ",["$","em",null,{"children":"ego_density"}],"\nfunctions provides the density for each participant’s network."]}],"\n",["$","pre",null,{"children":["$","code",null,{"children":"    summary(egorNetworkCanvas)\n\n    ## 9 Egos/ Ego Networks\n    ## 91 Alters\n    ## Min. Netsize 3\n    ## Average Netsize 10.1111111111111\n    ## Max. Netsize 20\n    ## Average Density 0.385856531573766\n    ## Alter survey design:\n    ##   Maximum nominations: Inf\n\n    ego_density(egorNetworkCanvas)\n\n    ## # A tibble: 9 × 2\n    ##   .egoID                               density\n    ##   <chr>                                  <dbl>\n    ## 1 1b915958-a970-4742-9f98-154a5b97c3e9 0.619\n    ## 2 102783ac-c48d-4953-97e6-3d84f39fd5d5 0.214\n    ## 3 51ce5e11-9aed-4b07-8ccf-1e96f7194ba6 0.0256\n    ## 4 ef3aeefe-1af9-4fd4-9e75-318eb329778f 0.105\n    ## 5 aae09896-5fc5-4295-8349-58045da6e86a 1\n    ## 6 2944b829-ef9d-446e-b592-6fbf57657743 0.00526\n    ## 7 79cee692-a513-408d-9701-0efe078b0240 0.218\n    ## 8 1c6dd8fd-2b2f-4139-80bc-63c7f34a5ec1 1\n    ## 9 0ce518be-d845-4439-8e3a-bd6b86e7cf40 0.286\n"}]}],"\n",["$","p",null,{"children":["We can also use a traditional package, such as ",["$","em",null,{"children":"sna"}],", to look at these\nnetworks by applying functions (i.e., lapply) to each of these networks\nand aggregating the results. For example, here we first make a simple\nhistogram of alter degrees across all ego networks."]}],"\n",["$","pre",null,{"children":["$","code",null,{"children":"    networkNetworkCanvas <- as_network(egorNetworkCanvas)\n\n    histData <- networkNetworkCanvas %>%\n      lapply(degree,cmode=\"indegree\") %>%\n      unlist(recursive = FALSE) %>%\n      as.data.frame()\n\n    histData$degree <- as.numeric(histData$\".\")\n\n    ggplot(histData, aes(x=degree)) +\n        geom_histogram(color=\"black\", fill=\"white\",bins=5) +\n        theme_classic()\n"}]}],"\n",["$","$L18",null,{"width":450,"height":450,"src":"/assets/img/working-with-data/vis4.png","alt":"","style":{"marginBlock":"10px"},"className":"h-full w-full object-cover"}],"\n",["$","p",null,{"children":"Finally, we often want to examine how an ego attribute may be associated\nwith ego network characteristics. In this example we look at the\nassociation between the number of substances a participant reported\nusing and the density of their ego network."}],"\n",["$","pre",null,{"children":["$","code",null,{"children":"    ego_density(egorNetworkCanvas) %>%\n      full_join(egorNetworkCanvas$ego,by=\".egoID\") %>%\n      ggplot(aes(x = numberDrugs, y = density)) +\n        geom_point(size=5) +\n        geom_text(label=egorNetworkCanvas$ego$networkCanvasCaseID, aes(vjust=c(-1.5))) +\n        ylim(0,1.05) + theme_classic()\n"}]}],"\n",["$","$L18",null,{"width":450,"height":450,"src":"/assets/img/working-with-data/vis5.png","alt":"","style":{"marginBlock":"10px"},"className":"h-full w-full object-cover"}],"\n",["$","pre",null,{"children":["$","code",null,{}]}]]
